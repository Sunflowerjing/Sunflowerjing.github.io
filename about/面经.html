<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面经 | Sunflower</title>
    <meta name="description" content="Vuepress blog demo">
    
    
    <link rel="preload" href="/assets/css/0.styles.a32d750b.css" as="style"><link rel="preload" href="/assets/js/app.0c4e457a.js" as="script"><link rel="preload" href="/assets/js/2.3676e543.js" as="script"><link rel="preload" href="/assets/js/9.2d4820b7.js" as="script"><link rel="prefetch" href="/assets/js/10.f6453fe8.js"><link rel="prefetch" href="/assets/js/100.0199c719.js"><link rel="prefetch" href="/assets/js/101.a7de43f8.js"><link rel="prefetch" href="/assets/js/102.50f8644c.js"><link rel="prefetch" href="/assets/js/103.3250c02d.js"><link rel="prefetch" href="/assets/js/104.29d7ed21.js"><link rel="prefetch" href="/assets/js/105.d7e9fbbd.js"><link rel="prefetch" href="/assets/js/106.1b5d8416.js"><link rel="prefetch" href="/assets/js/107.76dc1544.js"><link rel="prefetch" href="/assets/js/108.b3902295.js"><link rel="prefetch" href="/assets/js/109.d850dd61.js"><link rel="prefetch" href="/assets/js/11.60034940.js"><link rel="prefetch" href="/assets/js/110.a069f797.js"><link rel="prefetch" href="/assets/js/111.09024681.js"><link rel="prefetch" href="/assets/js/112.8b344d0d.js"><link rel="prefetch" href="/assets/js/113.d595799f.js"><link rel="prefetch" href="/assets/js/114.735747e0.js"><link rel="prefetch" href="/assets/js/115.4633d9d2.js"><link rel="prefetch" href="/assets/js/116.a13bf6e2.js"><link rel="prefetch" href="/assets/js/117.5ea5c11f.js"><link rel="prefetch" href="/assets/js/118.a476151d.js"><link rel="prefetch" href="/assets/js/119.5818c676.js"><link rel="prefetch" href="/assets/js/12.5bd43cd0.js"><link rel="prefetch" href="/assets/js/120.b161186b.js"><link rel="prefetch" href="/assets/js/121.b9f099e4.js"><link rel="prefetch" href="/assets/js/122.bc15ed2f.js"><link rel="prefetch" href="/assets/js/123.99d76580.js"><link rel="prefetch" href="/assets/js/124.c7ab2894.js"><link rel="prefetch" href="/assets/js/125.34cfb3f5.js"><link rel="prefetch" href="/assets/js/126.58a7e447.js"><link rel="prefetch" href="/assets/js/127.1c85bd46.js"><link rel="prefetch" href="/assets/js/13.66d25018.js"><link rel="prefetch" href="/assets/js/14.a25a4035.js"><link rel="prefetch" href="/assets/js/15.de39ab23.js"><link rel="prefetch" href="/assets/js/16.6d1bca0b.js"><link rel="prefetch" href="/assets/js/17.128d4594.js"><link rel="prefetch" href="/assets/js/18.0a3fd68b.js"><link rel="prefetch" href="/assets/js/19.b607c382.js"><link rel="prefetch" href="/assets/js/20.d31afd49.js"><link rel="prefetch" href="/assets/js/21.12acfd86.js"><link rel="prefetch" href="/assets/js/22.aadfbdc4.js"><link rel="prefetch" href="/assets/js/23.a0edc35a.js"><link rel="prefetch" href="/assets/js/24.b312e6df.js"><link rel="prefetch" href="/assets/js/25.97257d75.js"><link rel="prefetch" href="/assets/js/26.01936dd2.js"><link rel="prefetch" href="/assets/js/27.2e8828b4.js"><link rel="prefetch" href="/assets/js/28.e6790ba9.js"><link rel="prefetch" href="/assets/js/29.afc524f3.js"><link rel="prefetch" href="/assets/js/3.a9dffec4.js"><link rel="prefetch" href="/assets/js/30.aaf7c6de.js"><link rel="prefetch" href="/assets/js/31.9d65cff2.js"><link rel="prefetch" href="/assets/js/32.c894558d.js"><link rel="prefetch" href="/assets/js/33.8d8bd986.js"><link rel="prefetch" href="/assets/js/34.47facfd4.js"><link rel="prefetch" href="/assets/js/35.44ceb585.js"><link rel="prefetch" href="/assets/js/36.09f2f739.js"><link rel="prefetch" href="/assets/js/37.dbbc0e60.js"><link rel="prefetch" href="/assets/js/38.c1fad2a0.js"><link rel="prefetch" href="/assets/js/39.3ace24fd.js"><link rel="prefetch" href="/assets/js/4.2810ddf2.js"><link rel="prefetch" href="/assets/js/40.63374265.js"><link rel="prefetch" href="/assets/js/41.fd064420.js"><link rel="prefetch" href="/assets/js/42.57958530.js"><link rel="prefetch" href="/assets/js/43.c7cf35eb.js"><link rel="prefetch" href="/assets/js/44.e0cb951b.js"><link rel="prefetch" href="/assets/js/45.b223bdd3.js"><link rel="prefetch" href="/assets/js/46.c7b31626.js"><link rel="prefetch" href="/assets/js/47.3e4a6728.js"><link rel="prefetch" href="/assets/js/48.94b07616.js"><link rel="prefetch" href="/assets/js/49.fdf42941.js"><link rel="prefetch" href="/assets/js/5.e43498e1.js"><link rel="prefetch" href="/assets/js/50.cbed56b5.js"><link rel="prefetch" href="/assets/js/51.a18a4733.js"><link rel="prefetch" href="/assets/js/52.36cdbaf4.js"><link rel="prefetch" href="/assets/js/53.811cfd3f.js"><link rel="prefetch" href="/assets/js/54.83f3bd55.js"><link rel="prefetch" href="/assets/js/55.31ab89db.js"><link rel="prefetch" href="/assets/js/56.6c9598cc.js"><link rel="prefetch" href="/assets/js/57.d3a59dd5.js"><link rel="prefetch" href="/assets/js/58.4e4fc0d8.js"><link rel="prefetch" href="/assets/js/59.0266534d.js"><link rel="prefetch" href="/assets/js/6.8caa4cbe.js"><link rel="prefetch" href="/assets/js/60.d11b5ae3.js"><link rel="prefetch" href="/assets/js/61.741b1b34.js"><link rel="prefetch" href="/assets/js/62.20d137ff.js"><link rel="prefetch" href="/assets/js/63.8187c722.js"><link rel="prefetch" href="/assets/js/64.22cc7bfe.js"><link rel="prefetch" href="/assets/js/65.cc03ac65.js"><link rel="prefetch" href="/assets/js/66.cea322b8.js"><link rel="prefetch" href="/assets/js/67.72dd099a.js"><link rel="prefetch" href="/assets/js/68.f1b29a3d.js"><link rel="prefetch" href="/assets/js/69.77b58a41.js"><link rel="prefetch" href="/assets/js/7.87b373df.js"><link rel="prefetch" href="/assets/js/70.e6f55243.js"><link rel="prefetch" href="/assets/js/71.791e674e.js"><link rel="prefetch" href="/assets/js/72.38dfb769.js"><link rel="prefetch" href="/assets/js/73.bddf3f06.js"><link rel="prefetch" href="/assets/js/74.580447a5.js"><link rel="prefetch" href="/assets/js/75.13d0b306.js"><link rel="prefetch" href="/assets/js/76.2f8ecead.js"><link rel="prefetch" href="/assets/js/77.253ab4eb.js"><link rel="prefetch" href="/assets/js/78.eb589711.js"><link rel="prefetch" href="/assets/js/79.5b90567a.js"><link rel="prefetch" href="/assets/js/8.30d27849.js"><link rel="prefetch" href="/assets/js/80.bedfdf65.js"><link rel="prefetch" href="/assets/js/81.a68c6528.js"><link rel="prefetch" href="/assets/js/82.a37cd94a.js"><link rel="prefetch" href="/assets/js/83.8e32436f.js"><link rel="prefetch" href="/assets/js/84.ace16e95.js"><link rel="prefetch" href="/assets/js/85.86afda5c.js"><link rel="prefetch" href="/assets/js/86.fb04cb29.js"><link rel="prefetch" href="/assets/js/87.c58c2d4c.js"><link rel="prefetch" href="/assets/js/88.45337485.js"><link rel="prefetch" href="/assets/js/89.8b51f007.js"><link rel="prefetch" href="/assets/js/90.6d9c1756.js"><link rel="prefetch" href="/assets/js/91.723d3e38.js"><link rel="prefetch" href="/assets/js/92.08564d2f.js"><link rel="prefetch" href="/assets/js/93.04edcdea.js"><link rel="prefetch" href="/assets/js/94.42a83ef8.js"><link rel="prefetch" href="/assets/js/95.46df9ab9.js"><link rel="prefetch" href="/assets/js/96.39a45b87.js"><link rel="prefetch" href="/assets/js/97.985d9133.js"><link rel="prefetch" href="/assets/js/98.879aeb93.js"><link rel="prefetch" href="/assets/js/99.36965454.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a32d750b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sunflower</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">博客</a></div><div class="nav-item"><a href="/scattered/" class="nav-link">零散知识</a></div><div class="nav-item"><a href="/book/" class="nav-link">阅读</a></div><div class="nav-item"><a href="/about/" class="nav-link router-link-active">关于</a></div> <a href="https://github.com/Sunflowerjing/Sunflowerjing.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">博客</a></div><div class="nav-item"><a href="/scattered/" class="nav-link">零散知识</a></div><div class="nav-item"><a href="/book/" class="nav-link">阅读</a></div><div class="nav-item"><a href="/about/" class="nav-link router-link-active">关于</a></div> <a href="https://github.com/Sunflowerjing/Sunflowerjing.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>补充</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/about/如何提升.html" class="sidebar-link">如何提升</a></li><li><a href="/about/背水一战.html" class="sidebar-link">背水一战</a></li><li><a href="/about/面经.html" class="active sidebar-link">面经</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/about/面经.html#伴鱼" class="sidebar-link">伴鱼</a></li><li class="sidebar-sub-header"><a href="/about/面经.html#好未来" class="sidebar-link">好未来</a></li><li class="sidebar-sub-header"><a href="/about/面经.html#快手" class="sidebar-link">快手</a></li><li class="sidebar-sub-header"><a href="/about/面经.html#跟谁学" class="sidebar-link">跟谁学</a></li><li class="sidebar-sub-header"><a href="/about/面经.html#神策" class="sidebar-link">神策</a></li><li class="sidebar-sub-header"><a href="/about/面经.html#猿辅导" class="sidebar-link">猿辅导</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面经"><a href="#面经" class="header-anchor">#</a> 面经</h1> <ol><li><p>自我介绍</p> <ul><li>您好，很荣幸参加此次面试。我叫耿静静，内蒙古呼伦贝尔人。今天想面试贵公司的前端岗位。2018年7月加入 Qunar， 在 Qunar 工作2年多，目前在基础研发部，担任前端工程师这一职责。在此期间接触过小程序, 开发过埋点SDK，以及用 react、redux和 mobx 等开发前端项目。</li></ul></li> <li><p>娜娜奇小程序主包瘦身</p></li></ol> <ul><li>项目背景: 由于微信小程序主包 size 过大，即将超过2M, 已经到了2M 的临界值。导致一些必要的需求不能在主包中添加。 所以需要对主包的 size 进行优化。</li> <li>实施方案: 2种结合
<ul><li>第一种：常见的小程序瘦身方案: 首先剔除无用文件、图片用于CDN等(效果不理想)</li> <li>第二种：拆包形式。除了 tab 页，其余的页面都以分包的形式提取出去。
<ul><li>但有个问题，就是页面的 URL 改变了，其他业务线引用的地址变化了, 导致拆包前的页面找不到。为了让业务线无感知, 不想业务线手动修改。</li> <li>解决方案是: 定义 map 文件，让原始 URL 和 新的 URL 做一个映射。
然后用Object.defineProperty劫持原生底层路由: reLaunch、rediectTo、navigateTo。(这个方案只支持小程序这样做)
由于快应用的机制，不允许对快应用中路由进行劫持，所以快应用中，则对React.api[navigateTo || redirectTo], 进行重写
以上方案是：端内跳转。端外跳转是不会走reLaunch、rediectTo、navigateTo这些API，所以需要在 onPageNotFound 中进行处理。直接判断跳转路径是否在我们的 map 文件中，在的话我们就跳转。</li></ul></li></ul></li></ul> <ol start="3"><li>去哪儿埋点 SDK</li></ol> <ul><li>项目背景: 为 Qunar各业务线，提供 小程序 和 h5 埋点 SDK。 目的是: 统计用户数据，分析用户行为等。</li> <li>实施方案: 手动埋点 和 自动埋点
<ul><li>手动埋点</li> <li>自动埋点:
<ul><li>通过 addEventListener 监听 <code>DOMContentLoaded</code> 事件。 也就是初始的 html 文档被完全加载和解析完成后, 触发此事件。</li> <li>通过 addEventListener 监听 <code>popstate</code>事件。但 popstate 不会触发<code>pushState/replaceState</code>事件, 所以需要重写history.pushState 和 history.replaceState 这两个事件，也就是在方法中创建一个新的全局事件。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">patchUrlStateAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> orig <span class="token operator">=</span> history<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> rv <span class="token operator">=</span> <span class="token function">orig</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span>arguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
        <span class="token function">getGlobal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> rv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li>发送方式: 立即发送和批量发送
<ul><li>立即发送: 业务线手动调用时候传的参数，第二个为 true 时，则为立即发送</li> <li>批量发送: 根据节流机制设计的，在设置的时间范围内, 最后一次执行
还有一种情况，如果日志队列数量大于等于阈值，则立马发送</li></ul></li> <li>遇到的问题
<ul><li>A -&gt; B 页面, 因为延迟发送请求 A 页面数据丢失</li></ul></li> <li>怎么保证发送成功
<ul><li>回调</li> <li>缓存</li> <li>信标</li></ul></li></ul> <ol start="4"><li>mportal 平台</li></ol> <ul><li>项目背景: 主要是客户端打包、发布、运营工具平台, 例如: 客户端的预计发版时间要提前创建出来，提供此次发版组件名称和版本号等。如不想手动填写，平台会给你默认创建与线上的版本号对应。每个组件对应的 case 地址都在平台中添加。同时也会展示客户端对应的组件列表, 以及当前的状态。</li> <li>BFF 层: 前端需要什么样的接口就让服务器端提供, 同时在客户端使用这样的逻辑会占用更多的浏览器资源。，前端将有更少的逻辑，BFF 有助于简化数据展示，并为前端提供一个目的明确的接口。
<ul><li>调用相关的微服务 API 并获取所需数据</li> <li>根据前端展现来处理数据</li> <li>将格式化后的数据发送到前端</li> <li>插件</li> <li>中间件</li> <li>路由</li> <li>渲染</li></ul></li> <li>CI: 持续集成(持续集成指的是，频繁地（一天多次）将代码集成到主干。)</li> <li>CD:
<ul><li>持续交付: 指的是，频繁地将软件的新版本，交付给质量团队或者用户，以供评审。<code>Jenkins</code></li> <li>持续部署: 指的是代码通过评审以后，自动部署到生产环境。</li></ul></li> <li>const ws = new WebSocket('ws://localhost:8080');
<ul><li>ws.onopen  ws.onmessage  ws.onclose ws.onerror</li></ul></li></ul> <h2 id="伴鱼"><a href="#伴鱼" class="header-anchor">#</a> 伴鱼</h2> <ol><li><p><code>px</code> 、<code>rem</code>  和 <code>em</code></p> <ul><li>px: px是相对长度单位，它是相对于<code>显示器屏幕分辨率</code>而言的</li> <li>em: 是一种相对长度单位，<code>相对于自身元素的字号大小</code>，如果没有<code>设置即参照父容器的字号大小</code>或<code>浏览器默认字号大小</code>。<code>相对于使用em单位的元素的字体大小</code>。</li> <li>rem是css3的新标准也是一种相对长度单位，其相对于<code>HTML根标签</code>的字号大小。</li> <li>em和rem: 浏览器根据谁来转化成px值</li> <li>vw(view-width), vh(view-height) 这两个单位是CSS新增的单位，表示视区宽度/高度</li></ul></li> <li><p>适配 小程序</p> <ul><li><p><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no&quot;&gt;</code></p></li> <li><p>viewport ：用户网页的可视区域.</p></li> <li><p>width：控制viewport的大小，可以指定一个值，如600，或者特殊的值，如device-width为设备的宽度（单位为缩放100%时的CSS的像素）。</p></li> <li><p>height：和 width 相对应，指定高度。</p></li> <li><p>initial-scale：初始缩放比例，也即是当页面第一次 load 的时候缩放比例。</p></li> <li><p>maximum-scale：允许用户缩放到的最大比例。</p></li> <li><p>user-scalable：用户是否可以手动缩放。</p></li> <li><p>方案: https://www.mdaima.com/news/105.html</p> <ul><li>第一种方法：viewport适配</li> <li>第二种方法：借助media(媒体查询)实现rem适配  ***</li> <li>第三种方法：JS配合修改配合rem适配</li> <li>第四种方法：JS动态修改配合CSS预处理器（less）</li> <li>第五种方法：JS动态修改配合rem适配</li> <li>第六种方法：手机淘宝 flexible.js  ***</li> <li>第七种方法： ***
<ul><li>vw:viewport width(可视窗口宽度)</li> <li>vh:viewport height(可视窗口高度)</li></ul></li></ul></li></ul></li> <li><p>数据类型: https://blog.csdn.net/u013592575/article/details/95087953</p> <ul><li>JS 的数据类型有几种？
<ul><li>8种。Number、String、Boolean、Null、undefined、object、symbol、bigInt。</li> <li>Symbol 类型的对象永远不相等，可以用解决属性名冲突的问题</li> <li>bigInt可以安全存储和操作大整数</li></ul></li> <li>Object 中包含了哪几种类型？
<ul><li>其中包含了Data、function、Array等。这三种是常规用的</li></ul></li> <li>JS的基本类型和引用类型有哪些呢？
<ul><li>基本类型: String、Number、boolean、null、undefined。</li> <li>引用类型: object。里面包含的 function、Array、Date。</li> <li>typeof NaN =&gt; number。注意: NaN 是 Number 中的一种，非Number 。</li> <li>用 isNaN（） 检测是否是非数值型。</li></ul></li> <li>null 和 undefined 有什么区别？
<ul><li>Null 只有一个值，是 null。不存在的对象</li> <li>Undefined 只有一个值，是undefined。没有初始化。undefined 是从 null 中派生出来的。</li> <li>简单理解就是：undefined 是没有定义的，null 是定义了但是为空。</li></ul></li></ul></li> <li><p>typeof  和 instanof</p> <ul><li>typeof适用于基础数据类型判断，引用类型判断都是object</li> <li>a instanceof b：判断a是否为b的实例，可以用于继承关系中</li> <li>instanceof 只能处理两个对象是否属于的实例关系</li> <li>instanof工作原理：判断实例对象的__proto__属性和构造函数的prototype是否同一个地址，只要在原型链上的构造函数，都会被instanceof认为是实例的构造函数。如图：</li></ul></li> <li><p>缓存 http 强缓存和协商缓存</p></li> <li><p>客户端，缓存信息有哪些？</p></li> <li><p>原型链的场景</p> <ul><li>原型链主要用于继承，其实就是为了代码复用</li></ul></li> <li><p>await 后面可以和常量吗</p></li> <li><p>new 操作符做了什么</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// new运算符及背后工作原理 new后跟构造函数</span>
<span class="token comment">// 1，一个新对象被创建，它继承自func.prototype（构造函数的原型对象）</span>
<span class="token comment">// 2，构造函数func被执行，执行的时候，相应的传参会被传入，同时上下文（this）会被指定为这个新实例</span>
<span class="token comment">// 3，如果构造函数返回了一个“对象”，那么这个对象会取代整个new出来的结果，如果构造函数没有返回对象，那么new出来的结果为步骤1创建的对象</span>
<span class="token keyword">var</span> <span class="token function-variable function">new2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>func<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> k <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> k <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> k<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> o<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>bind 的 this</p> <ul><li>bind方法会创建一个新函数 称为绑定函数</li> <li>bind方法的返回值是函数</li></ul></li> <li><p>请写出下面代码的输出内容</p></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><ol start="13"><li>请写出下面代码的输出内容</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fish1<span class="token punctuation">,</span>fish2<span class="token punctuation">,</span>fish3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> <span class="token function-variable function">fish1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'welcome to Palfish-1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fish1<span class="token punctuation">,</span>fish2<span class="token punctuation">,</span>fish3<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fish2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'welcome to Palfish-2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fish3 <span class="token operator">=</span> <span class="token string">'welcome to Palfish-3'</span>
<span class="token keyword">var</span> fish1<span class="token punctuation">,</span>fish2<span class="token punctuation">,</span>fish3<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fish1<span class="token punctuation">,</span>fish2<span class="token punctuation">,</span>fish3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="14"><li>请写出下面代码的输出内容</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> nickname <span class="token operator">=</span> <span class="token string">&quot;LiLei&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>nickname <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>nickname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>nickname<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> Male <span class="token operator">=</span> <span class="token punctuation">{</span>
  nickname<span class="token operator">:</span> <span class="token string">'xiaofang'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>nickname<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span><span class="token function">（Person</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>Male<span class="token punctuation">,</span> <span class="token string">'XiaoHong'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
person<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ==&gt; 输出</span>
</code></pre></div><ol start="15"><li>请写出下面代码的输出内容</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    obj<span class="token punctuation">.</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    obj<span class="token operator">=</span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ==&gt; 输出：</span>
</code></pre></div><p>// {a:1}</p> <ol start="16"><li>实现一个LazyMan，可以按照以下方式调用:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">LazyMan</span><span class="token punctuation">(</span>“Hank”<span class="token punctuation">)</span>输出<span class="token operator">:</span>
Hi<span class="token operator">!</span> This is Hank<span class="token operator">!</span>

<span class="token function">LazyMan</span><span class="token punctuation">(</span>“Hank”<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>“dinner”<span class="token punctuation">)</span>输出
Hi<span class="token operator">!</span> This is Hank<span class="token operator">!</span>
<span class="token comment">//等待10秒..</span>
Wake up after <span class="token number">10</span>
Eat dinner<span class="token operator">~</span>

<span class="token function">LazyMan</span><span class="token punctuation">(</span>“Hank”<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>“dinner”<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>“supper”<span class="token punctuation">)</span>输出
Hi This is Hank<span class="token operator">!</span>
Eat dinner<span class="token operator">~</span>
Eat supper<span class="token operator">~</span>

以此类推。
</code></pre></div><ol start="17"><li>找出二叉树中某两个节点的第一个共同祖先，不得将其他的节点存储在另外的数据结构中。</li></ol> <p>例如，给定如下二叉树: root = [3,5,1,6,2,0,8,null,null,7,4]，相应的树型结构为：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token number">3</span>
   <span class="token operator">/</span> \
  <span class="token number">5</span>   <span class="token number">1</span>
 <span class="token operator">/</span> \ <span class="token operator">/</span> \
<span class="token number">6</span>  <span class="token number">2</span> <span class="token number">0</span>  <span class="token number">8</span>
  <span class="token operator">/</span> \
 <span class="token number">7</span>   <span class="token number">4</span>


</code></pre></div><p>示例 1:
输入: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
输出: 3
解释: 节点 5 和节点 1 的最近公共祖先是节点 3。</p> <ol start="18"><li>React在body下追加全局组件</li></ol> <ul><li>popupMaskNode</li></ul> <ol start="19"><li><p>设计蒙层组件, 需要哪些接口</p></li> <li><p>监听点击事件, 页面点击用户行为</p></li> <li><p>Xpath</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//封装xpath</span>
<span class="token keyword">function</span> <span class="token function">getElementByXpath</span><span class="token punctuation">(</span><span class="token parameter">xpath</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>xpath<span class="token punctuation">,</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterateNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="好未来"><a href="#好未来" class="header-anchor">#</a> 好未来</h2> <ol><li>去掉一个数组中的重复项，并按升序排序
let param= [3,6,7,8,7,4,5,3]<br>
函数（param）  //[3,4,5,6,7,8]</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    es6提供了新的数据结构Set<span class="token punctuation">,</span> 去重
    Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>去重结果<span class="token punctuation">)</span>
    sort 排序
</code></pre></div><ol start="2"><li><p>let parmas = '21349803458468485’
http://www.ccued.com/post/37.html</p></li> <li><p>判断数组中是否满足有其中一项等于其它两项之和；
var arr = [0, 3, 6, 4,7,5,6,2,3,56,4];</p></li> <li><p>快排算法</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 快速排序
 * @param nums  数组
 * @param left  排序的左边界索引
 * @param right 排序的右边界索引
 * 
 * 思路: https://leetcode-cn.com/problems/sort-an-array/solution/pai-xu-shu-zu-by-leetcode-solution/
 * 
 * 振凯: https://wii.pub/2021/04/12/coding/algorithm/sort/
 */</span>
<span class="token keyword">function</span> <span class="token function">qsort</span><span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&gt;=</span> right<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> pivot <span class="token operator">=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> i <span class="token operator">=</span> left<span class="token punctuation">,</span> j <span class="token operator">=</span> right<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> pivot<span class="token punctuation">)</span> <span class="token operator">--</span>j<span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pivot<span class="token punctuation">)</span> <span class="token operator">++</span>i<span class="token punctuation">;</span>
        nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pivot<span class="token punctuation">;</span>
    <span class="token function">qsort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">qsort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> v<span class="token punctuation">;</span>
v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">qsort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">qsort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

v <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">qsort</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>二叉树广度遍历深度遍历</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 定义二叉树节点
 */</span>
<span class="token keyword">function</span> <span class="token function">TreeNode</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 深度优先遍历</span>
<span class="token keyword">function</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 广度优先遍历</span>
<span class="token keyword">function</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>nodes<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> cur <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 构造树</span>
<span class="token keyword">function</span> <span class="token function">buildTree</span><span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> v <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> v <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> node<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> tree <span class="token operator">=</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">dfs</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bfs</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>深拷贝
<ul><li>浅拷贝： 将原对象或原数组的引用直接赋给新对象，新数组，新对象／数组只是原对象的一个引用</li> <li>深拷贝： 创建一个新的对象和数组，将原对象的各项属性的“值”（数组的所有元素）拷贝过来，<code>是“值”而不是“引用”</code></li> <li>为什么要使用深拷贝？
<ul><li>我们希望在改变新的数组（对象）的时候，不改变原数组（对象）</li></ul></li> <li>怎么检验深拷贝成功: 改变任意一个新对象/数组中的属性/元素, 都不改变原对象/数组</li></ul></li></ol> <h2 id="快手"><a href="#快手" class="header-anchor">#</a> 快手</h2> <ol><li><p>准备准备 TypeScript 基础、入门、进阶</p></li> <li><p>算法，什么分解质因数之类的</p></li> <li><p>React Mobx 原理性、性能优化、最佳实践、痛点之类</p></li> <li><p>项目的亮点也总结包装一下</p></li></ol> <h2 id="跟谁学"><a href="#跟谁学" class="header-anchor">#</a> 跟谁学</h2> <ol><li>sdk</li></ol> <ul><li>信标: Beacon. 信标（Beacon）可以异步与非阻塞的数据传输，从而最大限度地减少与其他关键操作的资源争用，同时它可以确保这些请求一定会被处理并将其传递到服务端：
<ul><li>信标请求优先避免与关键操作和更高优先级的网络请求竞争。</li> <li>信标请求可以有效地合并，以优化移动设备上的能量使用。</li> <li>保证页面卸载之前启动信标请求，并允许运行完成且不会阻塞请求或阻塞处理用户交互事件的任务</li> <li>window.navigator.sendBeacon('/apiLog', data)</li></ul></li></ul> <ol start="2"><li><p>小程序瘦身-收益</p></li> <li><p>h5 性能优化</p></li></ol> <ul><li>首屏加载
<ul><li>首次绘制（First Paint，FP）</li> <li>首次内容绘制（First Contentful Paint，FCP）</li> <li>白屏时间: 从路由改变起(即用户再按下回车的瞬间)到首次内容绘制(即能看到第一个内容)为止算白屏时间 =&gt; <code>白屏时间 = firstPaint - performance.timing.navigationStart</code></li> <li>白屏时间内发生了什么:
<ul><li>回车按下,浏览器解析网址,进行 DNS 查询,查询返回 IP,通过 IP 发出 HTTP(S) 请求</li> <li>服务器返回HTML,浏览器开始解析 HTML,此时触发请求 js 和 css 资源</li> <li>js 被加载,开始执行 js,调用各种函数创建 DOM 并渲染到根节点,直到第一个可见元素产生</li></ul></li> <li>有一款webpack 插件叫 html-webpack-plugin
<ul><li>在其中配置 html 就可以在文件中插入 loading 图。</li></ul></li> <li>(伪)服务端渲染
<ul><li>prerender-spa-plugin</li></ul></li> <li>开启 HTTP2</li> <li>开启浏览器缓存
<ul><li>响应头
<ul><li>Expires: 响应头，代表该资源的过期时间。</li> <li>Cache-Control: 请求/响应头，缓存控制字段，精确控制缓存策略。</li> <li>Last-Modified: 响应头，资源最近修改时间，由服务器告诉浏览器。</li> <li>Etag: 响应头，资源标识，由服务器告诉浏览器。</li></ul></li> <li>请求头
<ul><li>If-Modified-Since: 请求头，资源最近修改时间，由浏览器告诉服务器。</li> <li>If-None-Match: 请求头，缓存资源标识，由浏览器告诉服务器。</li></ul></li> <li>配对使用的字段：
<ul><li>If-Modified-Since 和 Last-Modified</li> <li>Etag 和 If-None-Match</li></ul></li> <li>https://segmentfault.com/a/1190000020690092</li></ul></li></ul></li></ul> <ol start="4"><li><p>react-sogo</p></li> <li><p>去除字符串中重复出现的数字对于给定的由数字1-n（10 &lt; n &lt; 100）构成的字符串，数字之间以空格隔开，无序，实现一个函数，去除字符串中出现的重复数字，且输出顺序和输入保持相对一致。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">arr</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> str<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">arr</span><span class="token punctuation">(</span><span class="token string">'1 1 2 1 3 5 4 6 3 7'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="神策"><a href="#神策" class="header-anchor">#</a> 神策</h2> <ol><li><p>娜娜奇 编译 实现</p></li> <li><p>项目从 git 到 上线的整体流程是什么? 发布</p></li> <li><p>eventlop</p></li> <li><p>pm2 使用</p></li></ol> <ul><li>pm2 start app.js # 启动app.js应用程序</li> <li>pm2 list # 列表 PM2 启动的所有的<code>应用程序</code></li> <li>pm2 logs # 显示所有应用程序的日志</li> <li>pm2 logs [app-name] # 显示指定应用程序的日志</li> <li>pm2 stop all # 停止所有的应用程序</li> <li>PM2是node进程管理工具，可以利用它来简化很多node应用管理的繁琐任务，如性能监控、自动重启、负载均衡等，而且使用非常简单</li></ul> <ol start="4"><li><p>PureComponent 和  Component</p></li> <li><p>写一下 object.assign 的 polyfill</p></li> <li><p>回朔 重流</p></li> <li><p>盒模型: Margin+Border+Padding+Content</p></li></ol> <ul><li>标准模型: content = content</li> <li>IE模型(怪异模式): content = content + border + padding</li> <li>切换标准模型和IE模型: <code>box-sizing:border-box || content-box || inherit</code> <ul><li>当使用<code>content-box</code>时：页面将采用<code>标准模式来解析计算</code>，content-box也是默认模式</li> <li>当使用<code>border-box</code>时，页面将采用<code>怪异模式解析计算</code>，怪异模式也称为IE模式</li> <li>当使用<code>inherit</code>时：页面将从父元素继承box-sizing的值</li></ul></li></ul> <h2 id="猿辅导"><a href="#猿辅导" class="header-anchor">#</a> 猿辅导</h2> <ol><li><p>css 样式</p> <div class="language-js extra-class"><pre class="language-js"><code>【【 abcd              】【<span class="token number">1234</span>】】
【【 abcdefg<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>】【<span class="token number">123456</span>】】
</code></pre></div></li> <li><p>event loop</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>

<span class="token number">27485613</span>
</code></pre></div></li> <li><p>实现 new</p></li> <li><p>节流, 防抖</p></li> <li><p>实现 Promise.all()</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/about/背水一战.html" class="prev">背水一战</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0c4e457a.js" defer></script><script src="/assets/js/2.3676e543.js" defer></script><script src="/assets/js/9.2d4820b7.js" defer></script>
  </body>
</html>
