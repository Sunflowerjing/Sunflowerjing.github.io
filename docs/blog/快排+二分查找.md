# 快排+二分查找

```js
var arr = [9,13,87,2,3,4,5,6,7];

// 题目: 将一个数组排序, 然后查找某个树是否在数组中

// 正常做法
// function include(arr, num){
//     arr.sort((a,b) => a-b)
//     for (const iterator of arr) {
//         console.log('===', iterator)
//         if(iterator === num) return  { newArr: arr, isInclude: true }
//     }
//     return  {
//         newArr: arr, 
//         isInclude: false
//     }
// }
// const r = include(arr, 5);
// console.log('结果', r)


// 快排(递归) + 二分查找(for)
function include(arr, num){
    const qsort = (arr, left, right) => {
        if(left >= right) return;
        let pivot = arr[left], i = left, j = right;
        while(i < j){
            while(i < j && pivot < arr[j]) --j;
            arr[i] = arr[j]

            while(i < j && pivot >= arr[i]) ++i;
            arr[j] = arr[i]
        }
        arr[j] = pivot;
        qsort(arr, left, i-1);
        qsort(arr, i+1, right);
    }
    qsort(arr, 0, arr.length-1);
    // 此时 原始数组已经改变了. 进行快排操作    
    let mid, low = 0, height = arr.length-1;
    while(low<=height){
        mid = Math.floor((low+height)/2);
        if(arr[mid] === num){
            return {arr, index: mid, is: true}
        } else if(arr[mid] > num){
            height = mid - 1;
        } else {
            low = mid + 1;
        }
    }
    return {arr, index: -1, is: false}
}

const R = include(arr, 5)
console.log(R)
```