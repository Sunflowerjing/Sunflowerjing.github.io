<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ESé›†åˆ | Sunflower</title>
    <meta name="description" content="Vuepress blog demo">
    
    
    <link rel="preload" href="/assets/css/0.styles.a32d750b.css" as="style"><link rel="preload" href="/assets/js/app.0c4e457a.js" as="script"><link rel="preload" href="/assets/js/2.3676e543.js" as="script"><link rel="preload" href="/assets/js/16.6d1bca0b.js" as="script"><link rel="prefetch" href="/assets/js/10.f6453fe8.js"><link rel="prefetch" href="/assets/js/100.0199c719.js"><link rel="prefetch" href="/assets/js/101.a7de43f8.js"><link rel="prefetch" href="/assets/js/102.50f8644c.js"><link rel="prefetch" href="/assets/js/103.3250c02d.js"><link rel="prefetch" href="/assets/js/104.29d7ed21.js"><link rel="prefetch" href="/assets/js/105.d7e9fbbd.js"><link rel="prefetch" href="/assets/js/106.1b5d8416.js"><link rel="prefetch" href="/assets/js/107.76dc1544.js"><link rel="prefetch" href="/assets/js/108.b3902295.js"><link rel="prefetch" href="/assets/js/109.d850dd61.js"><link rel="prefetch" href="/assets/js/11.60034940.js"><link rel="prefetch" href="/assets/js/110.a069f797.js"><link rel="prefetch" href="/assets/js/111.09024681.js"><link rel="prefetch" href="/assets/js/112.8b344d0d.js"><link rel="prefetch" href="/assets/js/113.d595799f.js"><link rel="prefetch" href="/assets/js/114.735747e0.js"><link rel="prefetch" href="/assets/js/115.4633d9d2.js"><link rel="prefetch" href="/assets/js/116.a13bf6e2.js"><link rel="prefetch" href="/assets/js/117.5ea5c11f.js"><link rel="prefetch" href="/assets/js/118.a476151d.js"><link rel="prefetch" href="/assets/js/119.5818c676.js"><link rel="prefetch" href="/assets/js/12.5bd43cd0.js"><link rel="prefetch" href="/assets/js/120.b161186b.js"><link rel="prefetch" href="/assets/js/121.b9f099e4.js"><link rel="prefetch" href="/assets/js/122.bc15ed2f.js"><link rel="prefetch" href="/assets/js/123.99d76580.js"><link rel="prefetch" href="/assets/js/124.c7ab2894.js"><link rel="prefetch" href="/assets/js/125.34cfb3f5.js"><link rel="prefetch" href="/assets/js/126.58a7e447.js"><link rel="prefetch" href="/assets/js/127.1c85bd46.js"><link rel="prefetch" href="/assets/js/13.66d25018.js"><link rel="prefetch" href="/assets/js/14.a25a4035.js"><link rel="prefetch" href="/assets/js/15.de39ab23.js"><link rel="prefetch" href="/assets/js/17.128d4594.js"><link rel="prefetch" href="/assets/js/18.0a3fd68b.js"><link rel="prefetch" href="/assets/js/19.b607c382.js"><link rel="prefetch" href="/assets/js/20.d31afd49.js"><link rel="prefetch" href="/assets/js/21.12acfd86.js"><link rel="prefetch" href="/assets/js/22.aadfbdc4.js"><link rel="prefetch" href="/assets/js/23.a0edc35a.js"><link rel="prefetch" href="/assets/js/24.b312e6df.js"><link rel="prefetch" href="/assets/js/25.97257d75.js"><link rel="prefetch" href="/assets/js/26.01936dd2.js"><link rel="prefetch" href="/assets/js/27.2e8828b4.js"><link rel="prefetch" href="/assets/js/28.e6790ba9.js"><link rel="prefetch" href="/assets/js/29.afc524f3.js"><link rel="prefetch" href="/assets/js/3.a9dffec4.js"><link rel="prefetch" href="/assets/js/30.aaf7c6de.js"><link rel="prefetch" href="/assets/js/31.9d65cff2.js"><link rel="prefetch" href="/assets/js/32.c894558d.js"><link rel="prefetch" href="/assets/js/33.8d8bd986.js"><link rel="prefetch" href="/assets/js/34.47facfd4.js"><link rel="prefetch" href="/assets/js/35.44ceb585.js"><link rel="prefetch" href="/assets/js/36.09f2f739.js"><link rel="prefetch" href="/assets/js/37.dbbc0e60.js"><link rel="prefetch" href="/assets/js/38.c1fad2a0.js"><link rel="prefetch" href="/assets/js/39.3ace24fd.js"><link rel="prefetch" href="/assets/js/4.2810ddf2.js"><link rel="prefetch" href="/assets/js/40.63374265.js"><link rel="prefetch" href="/assets/js/41.fd064420.js"><link rel="prefetch" href="/assets/js/42.57958530.js"><link rel="prefetch" href="/assets/js/43.c7cf35eb.js"><link rel="prefetch" href="/assets/js/44.e0cb951b.js"><link rel="prefetch" href="/assets/js/45.b223bdd3.js"><link rel="prefetch" href="/assets/js/46.c7b31626.js"><link rel="prefetch" href="/assets/js/47.3e4a6728.js"><link rel="prefetch" href="/assets/js/48.94b07616.js"><link rel="prefetch" href="/assets/js/49.fdf42941.js"><link rel="prefetch" href="/assets/js/5.e43498e1.js"><link rel="prefetch" href="/assets/js/50.cbed56b5.js"><link rel="prefetch" href="/assets/js/51.a18a4733.js"><link rel="prefetch" href="/assets/js/52.36cdbaf4.js"><link rel="prefetch" href="/assets/js/53.811cfd3f.js"><link rel="prefetch" href="/assets/js/54.83f3bd55.js"><link rel="prefetch" href="/assets/js/55.31ab89db.js"><link rel="prefetch" href="/assets/js/56.6c9598cc.js"><link rel="prefetch" href="/assets/js/57.d3a59dd5.js"><link rel="prefetch" href="/assets/js/58.4e4fc0d8.js"><link rel="prefetch" href="/assets/js/59.0266534d.js"><link rel="prefetch" href="/assets/js/6.8caa4cbe.js"><link rel="prefetch" href="/assets/js/60.d11b5ae3.js"><link rel="prefetch" href="/assets/js/61.741b1b34.js"><link rel="prefetch" href="/assets/js/62.20d137ff.js"><link rel="prefetch" href="/assets/js/63.8187c722.js"><link rel="prefetch" href="/assets/js/64.22cc7bfe.js"><link rel="prefetch" href="/assets/js/65.cc03ac65.js"><link rel="prefetch" href="/assets/js/66.cea322b8.js"><link rel="prefetch" href="/assets/js/67.72dd099a.js"><link rel="prefetch" href="/assets/js/68.f1b29a3d.js"><link rel="prefetch" href="/assets/js/69.77b58a41.js"><link rel="prefetch" href="/assets/js/7.87b373df.js"><link rel="prefetch" href="/assets/js/70.e6f55243.js"><link rel="prefetch" href="/assets/js/71.791e674e.js"><link rel="prefetch" href="/assets/js/72.38dfb769.js"><link rel="prefetch" href="/assets/js/73.bddf3f06.js"><link rel="prefetch" href="/assets/js/74.580447a5.js"><link rel="prefetch" href="/assets/js/75.13d0b306.js"><link rel="prefetch" href="/assets/js/76.2f8ecead.js"><link rel="prefetch" href="/assets/js/77.253ab4eb.js"><link rel="prefetch" href="/assets/js/78.eb589711.js"><link rel="prefetch" href="/assets/js/79.5b90567a.js"><link rel="prefetch" href="/assets/js/8.30d27849.js"><link rel="prefetch" href="/assets/js/80.bedfdf65.js"><link rel="prefetch" href="/assets/js/81.a68c6528.js"><link rel="prefetch" href="/assets/js/82.a37cd94a.js"><link rel="prefetch" href="/assets/js/83.8e32436f.js"><link rel="prefetch" href="/assets/js/84.ace16e95.js"><link rel="prefetch" href="/assets/js/85.86afda5c.js"><link rel="prefetch" href="/assets/js/86.fb04cb29.js"><link rel="prefetch" href="/assets/js/87.c58c2d4c.js"><link rel="prefetch" href="/assets/js/88.45337485.js"><link rel="prefetch" href="/assets/js/89.8b51f007.js"><link rel="prefetch" href="/assets/js/9.2d4820b7.js"><link rel="prefetch" href="/assets/js/90.6d9c1756.js"><link rel="prefetch" href="/assets/js/91.723d3e38.js"><link rel="prefetch" href="/assets/js/92.08564d2f.js"><link rel="prefetch" href="/assets/js/93.04edcdea.js"><link rel="prefetch" href="/assets/js/94.42a83ef8.js"><link rel="prefetch" href="/assets/js/95.46df9ab9.js"><link rel="prefetch" href="/assets/js/96.39a45b87.js"><link rel="prefetch" href="/assets/js/97.985d9133.js"><link rel="prefetch" href="/assets/js/98.879aeb93.js"><link rel="prefetch" href="/assets/js/99.36965454.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a32d750b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Sunflower</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">åšå®¢</a></div><div class="nav-item"><a href="/scattered/" class="nav-link">é›¶æ•£çŸ¥è¯†</a></div><div class="nav-item"><a href="/book/" class="nav-link">é˜…è¯»</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div> <a href="https://github.com/Sunflowerjing/Sunflowerjing.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">åšå®¢</a></div><div class="nav-item"><a href="/scattered/" class="nav-link">é›¶æ•£çŸ¥è¯†</a></div><div class="nav-item"><a href="/book/" class="nav-link">é˜…è¯»</a></div><div class="nav-item"><a href="/about/" class="nav-link">å…³äº</a></div> <a href="https://github.com/Sunflowerjing/Sunflowerjing.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dev</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/åŸºæœ¬æ¦‚å¿µ.html" class="sidebar-link">åŸºæœ¬æ¦‚å¿µ</a></li><li><a href="/blog/Moment.html" class="sidebar-link">Moment</a></li><li><a href="/blog/å­—ç¬¦ä¸²æ–¹æ³•.html" class="sidebar-link">å­—ç¬¦ä¸²æ–¹æ³•</a></li><li><a href="/blog/Function.html" class="sidebar-link">Function</a></li><li><a href="/blog/æ•°ç»„æ–¹æ³•.html" class="sidebar-link">æ•°ç»„æ–¹æ³•</a></li><li><a href="/blog/å¯¹è±¡æ–¹æ³•.html" class="sidebar-link">å¯¹è±¡æ–¹æ³•</a></li><li><a href="/blog/æ‰‹å†™é›†åˆ.html" class="sidebar-link">æ‰‹å†™é›†åˆ</a></li><li><a href="/blog/JavaScript&amp;QAå·¥ç¨‹å¸ˆ.html" class="sidebar-link">JavaScript&amp;QAå·¥ç¨‹å¸ˆ</a></li><li><a href="/blog/JavaScriptå‡½æ•°ç¼–ç¨‹.html" class="sidebar-link">JavaScriptå‡½æ•°ç¼–ç¨‹</a></li><li><a href="/blog/JavaScripté¢è¯•é¢˜ç›®.html" class="sidebar-link">JavaScripté¢è¯•é¢˜ç›®</a></li><li><a href="/blog/npm.html" class="sidebar-link">npm</a></li><li><a href="/blog/Promise.html" class="sidebar-link">Promise</a></li><li><a href="/blog/ESé›†åˆ.html" class="active sidebar-link">ESé›†åˆ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/ESé›†åˆ.html#babel" class="sidebar-link">Babel</a></li><li class="sidebar-sub-header"><a href="/blog/ESé›†åˆ.html#es6-ç¼–ç¨‹" class="sidebar-link">ES6 ç¼–ç¨‹</a></li><li class="sidebar-sub-header"><a href="/blog/ESé›†åˆ.html#es7-ç¼–ç¨‹" class="sidebar-link">ES7 ç¼–ç¨‹</a></li><li class="sidebar-sub-header"><a href="/blog/ESé›†åˆ.html#es8-ç¼–ç¨‹" class="sidebar-link">ES8 ç¼–ç¨‹</a></li><li class="sidebar-sub-header"><a href="/blog/ESé›†åˆ.html#es9-ç¼–ç¨‹" class="sidebar-link">ES9 ç¼–ç¨‹</a></li><li class="sidebar-sub-header"><a href="/blog/ESé›†åˆ.html#es10-ç¼–ç¨‹" class="sidebar-link">ES10 ç¼–ç¨‹</a></li></ul></li><li><a href="/blog/EventLoop.html" class="sidebar-link">EventLoop</a></li><li><a href="/blog/æ¡†æ¶.html" class="sidebar-link">æ¡†æ¶</a></li><li><a href="/blog/è®¾è®¡æ¨¡å¼.html" class="sidebar-link">è®¾è®¡æ¨¡å¼</a></li><li><a href="/blog/JS æ¨¡å—è§„èŒƒ.html" class="sidebar-link">JS æ¨¡å—è§„èŒƒ</a></li><li><a href="/blog/packageæ–‡ä»¶å­¦ä¹ .html" class="sidebar-link">packageæ–‡ä»¶å­¦ä¹ </a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ä¸‰å¤§æ¡†æ¶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å°ç¨‹åº</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ‰“åŒ…å·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å·¥ç¨‹åŒ–&amp;æ€§èƒ½ä¼˜åŒ–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç½‘ç»œåè®®</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç®—æ³•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ­£åˆ™</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="esé›†åˆ"><a href="#esé›†åˆ" class="header-anchor">#</a> ESé›†åˆ</h1> <ul><li>ä¸¥æ ¼æ¨¡å¼: <code>use strict</code></li> <li>è¾“å‡ºå‡½æ•°æ‰§è¡Œæ—¶é—´: <code>console.time('å‡½æ•°å')</code> å’Œ ``console.timeEnd('å‡½æ•°å')`</li></ul> <h2 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h2> <blockquote><p>æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ ES6 è½¬ç å™¨ï¼Œå¯ä»¥å°† ES6 ä»£ç è½¬ä¸º ES5 ä»£ç ï¼Œä»è€Œåœ¨è€ç‰ˆæœ¬çš„æµè§ˆå™¨æ‰§è¡Œã€‚
å¯ä»¥ç”¨ ES6 çš„æ–¹å¼ç¼–å†™ç¨‹åºï¼Œåˆä¸ç”¨æ‹…å¿ƒç°æœ‰ç¯å¢ƒæ˜¯å¦æ”¯æŒã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// è½¬ç å‰</span>
input<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è½¬ç å</span>
input<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><p>å®‰è£… Babel: <code>npm install --save-dev @babel/core</code>ã€‚</p></li> <li><p>é…ç½®<code>.babelrc æ–‡ä»¶</code>:</p> <ul><li><p>Babel çš„é…ç½®æ–‡ä»¶æ˜¯<code>.babelrc</code>ï¼Œå­˜æ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹</p></li> <li><p>ä½¿ç”¨ Babel çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯é…ç½®è¿™ä¸ªæ–‡ä»¶ã€‚</p></li> <li><p>è¯¥æ–‡ä»¶ç”¨æ¥è®¾ç½®è½¬ç è§„åˆ™å’Œæ’ä»¶ï¼ŒåŸºæœ¬æ ¼å¼å¦‚ä¸‹ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// å®šä¹‰è½¬ç è§„åˆ™: å¯¹æ ‡å‡†çš„ ES6 è¯­æ³•è½¬æ¢ </span>
  <span class="token string">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <ul><li>æ‰€æœ‰ Babel å·¥å…·å’Œæ¨¡å—çš„ä½¿ç”¨ï¼Œéƒ½å¿…é¡»å…ˆå†™å¥½<code>.babelrc</code></li></ul></li> <li><p>å‘½ä»¤è¡Œè½¬ç </p> <ul><li><p>å®‰è£…å‘½ä»¤: <code>npm install --save-dev @babel/cli</code></p></li> <li><p>åŸºæœ¬ç”¨æ³•å¦‚ä¸‹:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code># è½¬ç ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º
$ npx babel example<span class="token punctuation">.</span>js

# è½¬ç ç»“æœå†™å…¥ä¸€ä¸ªæ–‡ä»¶
# <span class="token operator">--</span>out<span class="token operator">-</span>file æˆ– <span class="token operator">-</span>o å‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶
$ npx babel example<span class="token punctuation">.</span>js <span class="token operator">--</span>out<span class="token operator">-</span>file compiled<span class="token punctuation">.</span>js
# æˆ–è€…
$ npx babel example<span class="token punctuation">.</span>js <span class="token operator">-</span>o compiled<span class="token punctuation">.</span>js

# æ•´ä¸ªç›®å½•è½¬ç 
# <span class="token operator">--</span>out<span class="token operator">-</span>dir æˆ– <span class="token operator">-</span>d å‚æ•°æŒ‡å®šè¾“å‡ºç›®å½•
$ npx babel src <span class="token operator">--</span>out<span class="token operator">-</span>dir lib
# æˆ–è€…
$ npx babel src <span class="token operator">-</span>d lib

# <span class="token operator">-</span>s å‚æ•°ç”Ÿæˆsource mapæ–‡ä»¶
$ npx babel src <span class="token operator">-</span>d lib <span class="token operator">-</span>s
</code></pre></div></li></ul></li></ol> <h2 id="es6-ç¼–ç¨‹"><a href="#es6-ç¼–ç¨‹" class="header-anchor">#</a> ES6 ç¼–ç¨‹</h2> <ol><li><p>constã€let</p> <ul><li>å¸¸é‡const: ä¸èƒ½è¢«ä¿®æ”¹ã€‚
<ul><li>å¦åˆ™æŠ¥é”™ <code>Assignment to constant variable.</code></li> <li>const ä¼˜ç‚¹:
<ul><li>cosnt æ¯”è¾ƒç¬¦åˆå‡½æ•°å¼ç¼–ç¨‹</li> <li>const å’Œ let æœ¬è´¨åŒºåˆ«, ç¼–è¯‘å™¨å†…éƒ¨å¯¹å¤„ç†æœºåˆ¶ä¸åŒã€‚</li></ul></li></ul></li> <li>å˜é‡ let</li></ul></li> <li><p>å¯¹è±¡è§£æ„</p> <ul><li><p>æ•°ç»„è§£æ„</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'é¦™è•‰'</span><span class="token punctuation">,</span><span class="token string">'è‹¹æœ'</span><span class="token punctuation">,</span><span class="token string">'æ©˜å­'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> three<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>three<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ©˜å­</span>
</code></pre></div></li> <li><p>å¯¹è±¡ç»“æ„</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    b<span class="token operator">:</span> <span class="token string">'world'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
cosnt result <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cosnt <span class="token punctuation">{</span>b<span class="token punctuation">,</span> a<span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre></div></li></ul></li> <li><p>å­—ç¬¦ä¸²æ¨¡æ¿</p> <ul><li><p>åœ¨å­—ç¬¦ä¸²ä¸­å¯ä»¥æ”¾ç½®å˜é‡ã€‚ç”¨ ``</p></li> <li><p>æ–¹æ³•:</p> <ul><li>str.startsWith('hello')  // str å­—ç¬¦ä¸², æ˜¯å¦ä»¥ hello å¼€å§‹</li> <li>str.endsWith('bar')  // str å­—ç¬¦ä¸², æ˜¯å¦ä»¥ bar  ç»“å°¾</li> <li>str.includes('bar')   // str å­—ç¬¦ä¸², æ˜¯å¦åŒ…å«ä»¥ bar</li></ul></li> <li><p>å‡½æ•°ä¸­ä¼ é€’æ¨¡æ¿å­—ç¬¦ä¸²</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'è‹¹æœ'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token string">'æ©˜å­'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> test <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> word</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">strs<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strs<span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç»“æœ</span>
<span class="token parameter"> strs</span>   <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span><span class="token string">&quot;hello &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; word&quot;</span><span class="token punctuation">,</span> raw<span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token parameter"> values</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span><span class="token string">&quot;è‹¹æœ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ©˜å­&quot;</span><span class="token punctuation">]</span>
</code></pre></div></li></ul></li> <li><p>å¯¹è±¡å’Œæ•°ç»„</p> <ul><li><p>æ•°ç»„</p> <ul><li><p><code>Array.from()</code>:  æŠŠç±»ä¼¼æ•°ç»„çš„ä¸œè¥¿å˜æˆæ•°ç»„</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;ğŸ˜‚ğŸ˜³ğŸ¤¢ğŸ¥µ&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;ğŸ˜‚&quot;, &quot;ğŸ˜³&quot;, &quot;ğŸ¤¢&quot;, &quot;ğŸ¥µ&quot;]</span>
</code></pre></div></li> <li><p>æ‰©å±•è¿ç®—ç¬¦<code>...</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;ğŸ˜‚ğŸ˜³ğŸ¤¢ğŸ¥µ&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'ğŸª'</span><span class="token punctuation">,</span> <span class="token string">'ğŸ¨'</span><span class="token punctuation">,</span> <span class="token operator">...</span>str<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;ğŸª&quot;, &quot;ğŸ¨&quot;, &quot;ğŸ˜‚&quot;, &quot;ğŸ˜³&quot;, &quot;ğŸ¤¢&quot;, &quot;ğŸ¥µ&quot;]</span>
</code></pre></div></li> <li><p>åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•°ç»„: <code>Array.isArray(æŸå€¼)</code></p></li></ul></li> <li><p>å¯¹è±¡</p> <ul><li><p>ä¾¿æ·å†™æ³•</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> k <span class="token operator">=</span> <span class="token string">'arr'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  s<span class="token punctuation">,</span>
  <span class="token function">q</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸ’ª'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>å¯¹è±¡æ·»åŠ å±æ€§:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token constant">X</span><span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {X: &quot;hello&quot;}</span>
</code></pre></div></li> <li><p>åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ºåŒä¸€ä¸ªå€¼:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false é”™è¯¯åšæ³•</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true æ­£ç¡®åšæ³•</span>
</code></pre></div></li> <li><p>åŸå‹é“¾</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> eat <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">getEat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'ğŸ¥'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> drink <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'ğŸ¥‘'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sunday <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>eat<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sunday<span class="token punctuation">.</span><span class="token function">getEat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰¾åˆ°åŸå‹é“¾çš„æ–¹æ³• ğŸ¥</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>sunday<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŸ¥æ‰¾åŸå‹é“¾ä¸Šçš„æ–¹æ³•ç”¨: getPrototypeOf {getEat: Æ’}</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>sunday<span class="token punctuation">,</span> drink<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®åŸå‹é“¾ä¸Šçš„æ–¹æ³•</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>sunday<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  {getDrink: Æ’}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sunday<span class="token punctuation">.</span><span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰¾åˆ°åŸå‹é“¾çš„æ–¹æ³• ğŸ¥‘</span>
</code></pre></div></li> <li><p>åŸå‹é“¾:<code>__proto__</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> eat <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">getEat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'ğŸ¥'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> drink <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'ğŸ¥‘'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sunday <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> eat
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sunday<span class="token punctuation">.</span><span class="token function">getEat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ¥</span>
sunday<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> drink<span class="token punctuation">;</span> <span class="token comment">// æ˜¾ç¤ºæŒ‡å®šdrinkåˆ°åŸå‹é“¾ä¸Š</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sunday<span class="token punctuation">.</span><span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ¥‘</span>
</code></pre></div></li> <li><p>é‡å†™çˆ¶ç±»çš„æ–¹æ³•  <code>super</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> eat <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">getEat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'ğŸ¥'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> drink <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'ğŸ¥‘'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sunday <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> drink<span class="token punctuation">,</span>
  <span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'ğŸ°'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sunday<span class="token punctuation">.</span><span class="token function">getDrink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ¥‘ğŸ°</span>
</code></pre></div></li></ul></li></ul></li> <li><p>å‡½æ•°</p> <ul><li><p>æŸ¥æ‰¾å‡½æ•°åå­—<code>function.name</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">jing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jing</span>
</code></pre></div></li> <li><p>ç®­å¤´å‡½æ•°<code>() =&gt; {}</code></p> <ul><li><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>è°è°ƒç”¨this, thiså°±æŒ‡å‘è°</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
  <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç»“æœ'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 40</span>
</code></pre></div></li> <li><p><strong>ç®­å¤´å‡½æ•°ä¸­çš„this</strong> åœ¨å®šä¹‰æ—¶å°±ç¡®å®šäº†ï¼Œä¹‹åå°±ä¸èƒ½è¢«æ”¹å˜äº†, <code>thiså®šä¹‰æ—¶è¢«ç»‘å®šåˆ°ï¼Œå½“å‰æ‰€å±å¯¹è±¡é¡¶çº§ä½œç”¨åŸŸä¸Š</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	a<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
	<span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å˜»å˜» {a: 40, b: Æ’}</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å˜»å˜»'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
		<span class="token keyword">const</span> qq <span class="token operator">=</span> <span class="token punctuation">{</span>
							a<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
							<span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
									console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 40</span>
              <span class="token punctuation">}</span>
         	<span class="token punctuation">}</span>
     qq<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p>å‡½æ•°çš„<strong>é»˜è®¤ä¼ å‚</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>options<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'optionsæ˜¯ä¼ å…¥å‚æ•°'</span><span class="token punctuation">,</span> options<span class="token punctuation">,</span> <span class="token string">'a æ˜¯é»˜è®¤å‚æ•°'</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  	<span class="token comment">// false  1</span>
 <span class="token punctuation">}</span>
 <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">{</span>options<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>å‡½æ•°<strong>å‚æ•°çš„æ‰©å±•è¿ç®—ç¬¦</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>result</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ç»“æœæ˜¯æ•°ç»„</span>
  <span class="token comment">// 0: 30</span>
	<span class="token comment">// 1: {options: 111}</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>options<span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>iterator(è¿­ä»£å™¨)</p> <ul><li><p>åŸºæœ¬ä½¿ç”¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤™'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token string">'ğŸ¦·'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å‡½æ•°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {value: &quot;ğŸ¤™&quot;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {value: &quot;ğŸ¦·&quot;, done: false}</span>
<span class="token comment">// å‡½æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//{value: undefined, done: true}</span>
</code></pre></div><ul><li><code>yield</code> ç±»ä¼¼äºæ–­ç‚¹ã€‚ è¿è¡Œ <code>next</code> æ—¶æ‰ä¼šå»æ‰§è¡Œä¸‹ä¸€ä¸ª<code>yield</code>ã€‚</li> <li>iteratoræ˜¯è§£å†³å¼‚æ­¥çš„åŠæ³•ã€‚å°†å¼‚æ­¥å˜æˆåŒæ­¥çš„åŠæ³•ã€‚</li></ul></li> <li><p><code>for of</code>æ˜¯ iteratorçš„ä¸€ç§</p> <ul><li>ä¸<code>for in</code> ç›¸æ¯”, <code>for in</code> éå†çš„å¤ªæ·±äº†ã€‚<code>for in</code>  éå†çš„æ˜¯ç´¢å¼•</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'ğŸ‘—'</span><span class="token punctuation">,</span> <span class="token string">'ğŸ‘˜'</span><span class="token punctuation">,</span> <span class="token string">'ğŸ‘™'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">in</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ”¯æŒå¯¹è±¡, å¦‚æœæ˜¯å¯¹è±¡çš„è¯ å°±ä¸º key</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0  1  2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>for of</code>éå†æ•°ç»„, å¾—åˆ°çš„æ˜¯å€¼</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'ğŸ‘—'</span><span class="token punctuation">,</span> <span class="token string">'ğŸ‘˜'</span><span class="token punctuation">,</span> <span class="token string">'ğŸ‘™'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ‘—   ğŸ‘˜   ğŸ‘™</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>for of</code> ä¸æ”¯æŒéå†å¯¹è±¡ã€‚å¯ä»¥å…ˆç”¨<code>object.keys()</code>å¾—åˆ°ç´¢å¼•ï¼Œç„¶åå†å»éå†å¯¹è±¡</li></ul></li></ul></li> <li><p>Generator</p></li> <li><p>Class</p> <ul><li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
		<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">å¹´é¾„æ˜¯ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ï¼Œ</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰§è¡Œé™æ€æ–¹æ³•'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Man<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰§è¡Œé™æ€æ–¹æ³•</span>
<span class="token keyword">const</span> xiaowang <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xiaowang<span class="token punctuation">.</span>menu<span class="token operator">=</span><span class="token string">'ğŸ§š'</span><span class="token punctuation">;</span>  <span class="token comment">// è°ƒç”¨ set æ–¹æ³•</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaowang<span class="token punctuation">.</span>menu<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;ğŸ§š&quot;]  è°ƒç”¨ get æ–¹æ³•</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaowang<span class="token punctuation">.</span><span class="token function">tell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨å­ç±» tell æ–¹æ³•ã€‚ å¹´é¾„æ˜¯ 30ï¼ŒHello</span>
</code></pre></div></li></ul></li> <li><p><code>Set</code>é›†åˆ</p> <ul><li><p>å’Œæ•°ç»„ç›¸ä¼¼ï¼Œä½†ä¸ä¸€æ ·ã€‚æ•°ç»„å¯ä»¥é‡å¤ï¼Œ<code>Set</code>ä¸å¯ä»¥é‡å¤ï¼Œæˆå‘˜çš„å€¼æ˜¯å”¯ä¸€çš„ã€‚</p></li> <li><p>æ”¯æŒiterator</p></li> <li><p>ä¼šè‡ªåŠ¨å»é‡ï¼Œä¸ä¼šé‡å¤å…ƒç´ </p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token string">'ğŸ‘ˆğŸ¤ŸğŸ‘‹'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'ğŸ˜±'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'ğŸ˜±'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¼šè‡ªåŠ¨å»é‡</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> data <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ‘ˆ ğŸ¤Ÿ ğŸ‘‹ ğŸ˜±</span>
<span class="token punctuation">}</span>

arr<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤Ÿ'</span><span class="token punctuation">)</span>  <span class="token comment">// åˆ é™¤æ­¤å€¼</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set(3) {&quot;ğŸ‘ˆ&quot;, &quot;ğŸ‘‹&quot;, &quot;ğŸ˜±&quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'ğŸ¤Ÿ'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

arr<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¸…é™¤å…¨éƒ¨å…ƒç´ </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Set(0) {}</span>
</code></pre></div></li></ul></li> <li><p><code>Map</code>é›†åˆ(å­—å…¸)</p></li></ol> <ul><li><p>é”®å€¼å¯¹çš„å…ƒç´ </p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> food <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fruit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">cook</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
food<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>fruit<span class="token punctuation">,</span> <span class="token string">'ğŸ‘€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
food<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>cook<span class="token punctuation">,</span> <span class="token string">'ğŸ§ '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Map(2) {{â€¦} =&gt; &quot;ğŸ‘€&quot;, Æ’ =&gt; &quot;ğŸ§ &quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>food<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cook<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ğŸ§ </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>food<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>fruit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// åˆ¤æ–­æ˜¯å¦æœ‰æ­¤ key</span>
food<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>cook<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>food<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è·å–foodé•¿åº¦ 1</span>
food<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ¸…é™¤å…¨éƒ¨å…ƒç´ </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Map(0) {}</span>
</code></pre></div></li> <li><p>å±æ€§å’Œæ“ä½œæ–¹æ³•</p> <ul><li><p><strong>size</strong> å±æ€§: è¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚</p></li> <li><p><strong>Map.prototype.set(key, value)</strong></p> <ul><li><p><code>set</code>æ–¹æ³•è®¾ç½®é”®å<code>key</code>å¯¹åº”çš„é”®å€¼ä¸º<code>value</code>ï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœ<code>key</code>å·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚</p></li> <li><p><code>set</code>æ–¹æ³•è¿”å›çš„æ˜¯å½“å‰çš„<code>Map</code>å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><strong>Map.prototype.get(key)</strong></p> <ul><li><code>get</code>æ–¹æ³•è¯»å–<code>key</code>å¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°<code>key</code>ï¼Œè¿”å›<code>undefined</code>ã€‚</li></ul></li> <li><p><strong>Map.prototype.has(key)</strong></p> <ul><li><code>has</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚</li></ul></li> <li><p><strong>Map.prototype.delete(key)</strong></p> <ul><li><code>delete</code>æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›<code>true</code>ã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›<code>false</code>ã€‚</li></ul></li> <li><p><strong>Map.prototype.clear()</strong></p> <ul><li><code>clear</code>æ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li></ul></li></ul></li> <li><p>éå†æ“ä½œ</p> <ul><li><p><code>Map.prototype.keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</p></li> <li><p><code>Map.prototype.values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</p></li> <li><p><code>Map.prototype.entries()</code>ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚</p></li> <li><p><code>Map.prototype.forEach()</code>ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚</p></li> <li><p>æ³¨ï¼šMap çš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåºã€‚</p></li> <li><p>ç¤ºä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'no'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'T'</span><span class="token punctuation">,</span>  <span class="token string">'yes'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;F&quot;</span>
<span class="token comment">// &quot;T&quot;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;no&quot;</span>
<span class="token comment">// &quot;yes&quot;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;F&quot; &quot;no&quot;</span>
<span class="token comment">// &quot;T&quot; &quot;yes&quot;</span>

<span class="token comment">// æˆ–è€…</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;F&quot; &quot;no&quot;</span>
<span class="token comment">// &quot;T&quot; &quot;yes&quot;</span>

<span class="token comment">// ç­‰åŒäºä½¿ç”¨map.entries()</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// &quot;F&quot; &quot;no&quot;</span>
<span class="token comment">// &quot;T&quot; &quot;yes&quot;</span>
</code></pre></div></li></ul></li></ul> <ol start="11"><li><p>ç»å…¸æ¡ˆä¾‹</p> <ul><li><p>æ•°ç»„å»é‡</p> <ul><li>æ–¹æ³•ä¸€</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>new <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [12, 34, 6, 98]</span>
</code></pre></div><ul><li>æ–¹æ³•äºŒ</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">arrayDedup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    arr <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> total<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token operator">?</span> total<span class="token operator">:</span> total<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p>Module æ¨¡å—</p> <ul><li><p>éé»˜è®¤</p> <ul><li><p>å¯¼å‡º <code>export</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">argument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">gogo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">argument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>test<span class="token punctuation">,</span>gogo<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>å¯¼å…¥ <code>import</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>test<span class="token punctuation">,</span> gogo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'index.js'</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">gogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>é»˜è®¤</p> <ul><li><p>å¯¼å‡º <code>export</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">argument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">gogo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">argument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>test<span class="token punctuation">,</span>gogo<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>å¯¼å…¥ <code>import</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> data <span class="token keyword">from</span> <span class="token string">'index.js'</span><span class="token punctuation">;</span>  <span class="token comment">// è‹¥æ˜¯ defaultï¼Œåˆ™ä¸è¦å»ç»“æ„</span>

data<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
data<span class="token punctuation">.</span><span class="token function">gogo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>system.js`ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½å™¨</p></li></ul></li> <li><p><code>async await</code></p> <ul><li><p><code>await</code>åé¢æ¥<code>Promise</code>å‡½æ•°</p></li> <li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">async</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">promisefn</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span>url<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">promisefn</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com/s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">promisefn</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com/b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> p <span class="token operator">=</span> a1<span class="token operator">+</span>a2<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>è£…é¥°å™¨</p> <ul><li><p><code>ç±»çš„è£…é¥°</code>: è£…é¥°å™¨å¯ä»¥ç”¨æ¥è£…é¥°æ•´ä¸ªç±»ã€‚</p> <ul><li>ä¿®é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚</li> <li>ä¿®é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œæ˜¯ä»£ç ç¼–è¯‘æ—¶å‘ç”Ÿçš„ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶ã€‚è¿™æ„å‘³ç€ï¼Œä¿®é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ã€‚</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">testable</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">.</span>isTestable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@testable
<span class="token keyword">class</span> <span class="token class-name">MyTestableClass</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

MyTestableClass<span class="token punctuation">.</span>isTestable <span class="token comment">// true</span>
</code></pre></div></li> <li><p>Core-decorators.js</p> <ul><li>æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæä¾›äº†å‡ ä¸ªå¸¸è§çš„è£…é¥°å™¨ã€‚</li> <li><code>@autobind</code>è£…é¥°å™¨ä½¿å¾—æ–¹æ³•ä¸­çš„ <code>this</code>å¯¹è±¡ï¼Œç»‘å®šåŸå§‹å¯¹è±¡ã€‚</li> <li><code>@readonly</code>è£…é¥°å™¨ä½¿å¾—å±æ€§æˆ–æ–¹æ³•ä¸å¯å†™ã€‚</li> <li><code>@override</code>è£…é¥°å™¨æ£€æŸ¥å­ç±»çš„æ–¹æ³•ï¼Œæ˜¯å¦æ­£ç¡®è¦†ç›–äº†çˆ¶ç±»çš„åŒåæ–¹æ³•ï¼Œå¦‚æœä¸æ­£ç¡®ä¼šæŠ¥é”™ã€‚</li></ul></li></ul></li> <li><p>Symbol</p> <ul><li><p><code>å”¯ä¸€</code>ã€‚è‹¥æƒ³è¦æŸå€¼ï¼Œæ°¸è¿œä¸è¢«æ”¹å˜ï¼Œåˆ™ç”¨Symbolã€‚</p></li> <li><p>æ¶ˆé™¤é­”æ³•å­—ç¬¦ä¸²</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> shapeType <span class="token operator">=</span> <span class="token punctuation">{</span>
  triangle<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token parameter">shape<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>triangle<span class="token operator">:</span>
      area <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">*</span> options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> area<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getArea</span><span class="token punctuation">(</span>shapeType<span class="token punctuation">.</span>triangle<span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ol> <h2 id="es7-ç¼–ç¨‹"><a href="#es7-ç¼–ç¨‹" class="header-anchor">#</a> ES7 ç¼–ç¨‹</h2> <ol><li><p>æ•°ç»„æ–°å¢ <code>includes</code> æ–¹æ³•:</p> <ul><li><p>åˆ¤æ–­ä¸€ä¸ª<code>å…ƒç´ </code>æ˜¯å¦å­˜åœ¨<code>æ•°ç»„</code>ä¸­</p></li> <li><p>ä½¿ç”¨: <code>æ•°ç»„.includes(å…ƒç´ )</code></p> <ul><li>å­˜åœ¨è¿”å›è¿”å› trueï¼Œä¸å­˜åœ¨è¿”å› falseã€‚</li></ul></li></ul></li> <li><p><code>Math.pow</code> : æŒ‡æ•°è¿ç®—çš„ç®€å†™æ–¹æ³•   <code>**</code></p> <ul><li><code>è®¡ç®—2çš„3æ¬¡æ–¹</code> <ul><li>æ—§æ–¹æ³•: <code>Math.pow(2,3)</code></li> <li>æ–°æ–¹æ³•: <code>2**3</code></li></ul></li></ul></li></ol> <h2 id="es8-ç¼–ç¨‹"><a href="#es8-ç¼–ç¨‹" class="header-anchor">#</a> ES8 ç¼–ç¨‹</h2> <ol><li><p><code>Async/Await</code></p> <ul><li><p><code>next =&gt; è¿”å› Promise</code></p></li> <li><p>æ“ä½œå¼‚æ­¥ä»£ç </p> <ul><li>åµŒå¥—å›è°ƒ</li> <li>Promise</li> <li>Generators</li></ul></li> <li><p>æ•è·å¼‚å¸¸</p> <ul><li><p>ä»£ç å®ç°</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">promiseFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'é”™è¯¯ä¿¡æ¯'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ–¹æ³•ä¸€</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">promiseFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘åœ¨é”™è¯¯ä¸‹é¢ä¸ä¼šæ‰§è¡Œ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ–¹æ³•äºŒ</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">promiseFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘åœ¨é”™è¯¯ä¸‹é¢ä¸ä¼šæ‰§è¡Œ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// æ–¹æ³•ä¸‰: è®©é”™è¯¯ä»£ç ä¹‹åçš„å†…å®¹æ­£å¸¸è¾“å‡ºï¼Œæå‰é”™è¯¯çš„æ•è·</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">promiseFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘ä¼šæ­£å¸¸è¾“å‡º'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>å¤šä¸ª await å¼‚æ­¥å‘½ä»¤åŒæ—¶æ‰§è¡Œï¼Œå¹¶è¡Œ</p> <ul><li><p>ä»£ç å®ç°</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">promiseFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'result1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">promiseFn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'result2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä¸²è¡Œ</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fnC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'fnC'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">promiseFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">promiseFn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'fnC'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fnC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fnC: 3008.9951171875ms</span>

<span class="token comment">// å¹¶è¡Œ</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fnB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'fnB'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">[</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">promiseFn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">promiseFn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'fnB'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fnB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// fnB: 2001.199951171875ms</span>
</code></pre></div></li></ul></li></ul></li> <li><p><code>Object.values()</code>å’Œ<code>Object.keys()</code></p> <ul><li><p><code>Object.values()</code> åªåŒ…å«è‡ªèº«çš„å€¼ï¼Œä¸åŒ…å«ç»§æ‰¿è¿‡æ¥çš„å€¼</p> <ul><li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ä¹‹å‰</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// ç»“æœ: [&quot;å°æ˜&quot;, 4]</span>

<span class="token comment">// ES8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// ç»“æœ: [&quot;å°æ˜&quot;, 4]</span>
</code></pre></div></li></ul></li></ul></li> <li><p><code>Object.entries()</code> å’Œ <code>for...in(ä¼šæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§)</code></p> <ul><li><p><code>Object.entries()</code>  ä¼šè¿”å›é”®å€¼å¯¹çš„æ•°ç»„</p> <ul><li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [[&quot;name&quot;, &quot;å°æ˜&quot;], [&quot;age&quot;, 4]]</span>
</code></pre></div></li></ul></li> <li><p><code>Object.entries()</code>  éå¯¹è±¡ä¼šå¼ºåˆ¶è½¬æ¢ä¸ºå¯¹è±¡</p></li> <li><p>éœ€æ±‚ï¼Œéå†å¯¹è±¡çš„é”®å€¼</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ–¹æ¡ˆä¸€</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name-å°æ˜  age-4</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ–¹æ¡ˆäºŒ</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// name-å°æ˜  age-4</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><code>String Padding</code></p> <ul><li><code>String.prototype.padStart(targetLength, [padString])</code>: åœ¨å­—ç¬¦ä¸²çš„å¼€å¤´è¿›è¡Œæ·»åŠ æ“ä½œ
<ul><li>targetLength: ç›®æ ‡é•¿åº¦  =&gt;  <code>æ·»åŠ å­—ç¬¦ä¸²ä¹‹åçš„é•¿åº¦(æ·»åŠ çš„å­—ç¬¦ä¸²+åŸå§‹å­—ç¬¦ä¸²çš„é•¿åº¦)</code></li> <li>ä»å³å¾€å·¦æ•°</li> <li><code>ç›®æ ‡é•¿åº¦ &gt; æ·»åŠ çš„å­—ç¬¦ä¸²+åŸå§‹å­—ç¬¦ä¸²çš„é•¿åº¦(è‡ªåŠ¨æˆªå–)</code></li> <li><code>ç›®æ ‡é•¿åº¦ &lt; æ·»åŠ çš„å­—ç¬¦ä¸²+åŸå§‹å­—ç¬¦ä¸²çš„é•¿åº¦(è‡ªåŠ¨é‡å¤æ·»åŠ )</code></li> <li>æ¡ˆä¾‹: <code>console.log('123'.padStart(4, '30'))</code>  //ç»“æœ:  3123</li></ul></li> <li><code>String.prototype.padEnd</code>: åœ¨å­—ç¬¦ä¸²çš„æœ«å°¾è¿›è¡Œæ·»åŠ æ“ä½œ</li></ul></li> <li><p><code>ç»“å°¾å…è®¸é€—å·</code></p> <ul><li><p>ç‰ˆæœ¬æ£€æµ‹çš„æ—¶å€™ä¼šç”¨åˆ°</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">para1<span class="token punctuation">,</span>para2<span class="token punctuation">,</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> 
</code></pre></div></li></ul></li> <li><p><code>Object.getOwnPropertyDescriptors()</code></p> <ul><li><p>è·å–å¯¹è±¡è‡ªèº«å±æ€§æ˜¯æè¿°ç¬¦</p></li> <li><p>ä½¿ç”¨:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p><code>SharedArrayBuffer</code> å’Œ <code>Atomics</code></p> <ul><li><p>ç»™ js å¸¦æ¥äº†å¤šçº¿ç¨‹çš„åŠŸèƒ½ï¼Œé«˜çº§ç‰¹æ€§ï¼ŒJSå¼•æ“æ ¸å¿ƒçš„æ”¹è¿›</p></li> <li><p>å…±äº«å†…å­˜ä¸»è¦æ€æƒ³: æŠŠå¤šçº¿ç¨‹å¼•å…¥ JS</p></li> <li><p><code>JS ä¸»çº¿ç¨‹</code>å’Œ<code>web-worker çº¿ç¨‹</code>ä¹‹é—´å…±äº«æ•°æ®ï¼Œç”¨<code>SharedArrayBuffer</code></p></li> <li><p>ä¹‹å‰ä½¿ç”¨<code>postMessage()</code> å°†æ•°æ®åœ¨çº¿ç¨‹ä¹‹é—´è¿›è¡Œä¼ é€’ã€‚ç°åœ¨ç”¨<code>SharedArrayBuffer</code>å…±äº«æ•°æ®</p></li> <li><p>å¤šçº¿ç¨‹ä¼šå­˜åœ¨ç«äº‰ï¼Œå¼•å…¥<code>Atomics</code> æ¥è¿›è¡Œæ·é”</p></li> <li><p>ä½¿ç”¨: <code>new SharedArrayBuffer(length); ç¼“å†²åŒºå¤§å°, ä»¥å­—èŠ‚byte ä¸ºå•ä½</code></p> <ul><li><code>arrayBuffer</code> æ— æ³•å…±äº«æ•°æ®</li> <li><code>SharedArrayBuffer</code>å¯ä»¥å…±äº«æ•°æ®</li></ul></li> <li><p>ç®€å•å®ç°<code>ä¸»è¿›ç¨‹</code>ä¸<code>worker.js</code>è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡<code>(æ•°æ®é‡å¤§ é€šä¿¡æ•ˆç‡ä½)</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// æ–‡ä»¶:main.js(ä¸»çº¿ç¨‹)</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ª workè¿›ç¨‹</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'./worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// postMessageç”¨æ­¤æ–¹æ³•ä¼ è¾“æ•°æ®, åˆ°workerçº¿ç¨‹</span>
worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello I am main'</span><span class="token punctuation">)</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// æ–‡ä»¶:work.js(workçº¿ç¨‹)</span>
<span class="token comment">// messageäº‹ä»¶, æ¥æ”¶æ•°æ® </span>
<span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello I am work'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>è¿›ç¨‹ä¹‹é—´å…±äº«å†…å­˜åœ°å€</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä¸»çº¿ç¨‹(main.js)</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ª workè¿›ç¨‹</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'./worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ–°å»º1kb å†…å­˜</span>
<span class="token keyword">const</span> sharedBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SharedArrayBuffer</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// å»ºè§†å›¾, å†™å…¥æ•°ç»„</span>
<span class="token keyword">const</span> intArrBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>sharedBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>intArrBuffer<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    intArrBuffer<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// postMessage å‘é€çš„å…±äº«å†…å­˜åœ°å€</span>
worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>intArrBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ†äº«å†…å­˜åœ°å€</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ›´æ”¹åçš„æ•°æ®'</span><span class="token punctuation">,</span> intArrBuffer<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// workçº¿ç¨‹(work.js)</span>
<span class="token comment">// messageäº‹ä»¶, æ¥æ”¶æ•°æ® </span>
<span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arrBuffer <span class="token operator">=</span> e<span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">// åœ¨ä¸»è¿›ç¨‹ä¸­å†™å…¥æ•°æ®,åœ¨å­è¿›ç¨‹ä¸­è¯»</span>
    arrBuffer<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨ work è¿›ç¨‹, ç›´æ¥ä¿®æ”¹äº†å†…å­˜ä¸­çš„æ•°æ® </span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello I am worker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>ä½¿ç”¨çº¿ç¨‹æ·é”æœºåˆ¶, æ¥è¯»å–å’Œä¿®æ”¹æ•°æ®</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä¸»çº¿ç¨‹(main.js)</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ª workè¿›ç¨‹</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'./worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ–°å»º1kb å†…å­˜</span>
<span class="token keyword">const</span> sharedBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SharedArrayBuffer</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// å»ºè§†å›¾, å†™å…¥æ•°ç»„</span>
<span class="token keyword">const</span> intArrBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>sharedBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>intArrBuffer<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    intArrBuffer<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// postMessage å‘é€çš„å…±äº«å†…å­˜åœ°å€</span>
worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>intArrBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ†äº«å†…å­˜åœ°å€</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3ä¸ªå‚æ•°</span>
    <span class="token comment">// å‚æ•°ä¸€: å…±äº«å†…å­˜çš„è§†å›¾æ•°ç»„ </span>
    <span class="token comment">// å‚æ•°äºŒ: index è§†å›¾æ•°æ®ä½ç½®</span>
    <span class="token comment">// å‚æ•°ä¸‰: count å”¤é†’çš„ worker è¿›ç¨‹æ•°, é»˜è®¤ Infinity</span>
    Atomics<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span>intArrBuffer<span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3S åè‡ªåŠ¨å”¤é†’</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ›´æ”¹åçš„æ•°æ®'</span><span class="token punctuation">,</span> Atomics<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>intArrBuffer<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// workçº¿ç¨‹(work.js)</span>
<span class="token comment">// messageäº‹ä»¶, æ¥æ”¶æ•°æ® </span>
<span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> arrBuffer <span class="token operator">=</span> e<span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">// åœ¨ä¸»è¿›ç¨‹ä¸­å†™å…¥æ•°æ®,åœ¨å­è¿›ç¨‹ä¸­è¯»</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¯»å–æ•°æ®çš„æ–¹å¼'</span><span class="token punctuation">,</span> Atomics<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>arrBuffer<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ä½¿ç”¨æ·é”æ–¹å¼è¯»å–æ•°æ®</span>
    Atomics<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>arrBuffer<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ä½¿ç”¨æ·é”æ–¹å¼ä¿®æ”¹æ•°æ®, è¿”å›å†™å…¥çš„å€¼   99 </span>
    Atomics<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>arrBuffer<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ä½¿ç”¨æ·é”æ–¹å¼ä¿®æ”¹æ•°æ®, è¿”å›ä¹‹å‰çš„å€¼  99</span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello I am worker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token comment">// æŸäº›çº¿ç¨‹æ»¡è¶³ä»¥ä¸‹æ¡ä»¶, è¿›è¡Œä¼‘çœ </span>
    Atomics<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>arrBuffer<span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘å·²ç»è¿›å…¥ä¼‘çœ äº†, ä¸ä¼šè¢«æ‰§è¡Œäº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æŸäº›çº¿ç¨‹æ»¡è¶³ä»¥ä¸‹æ¡ä»¶, è¿›è¡Œä¼‘çœ , 2S åè¿›è¡Œè‡ªåŠ¨å”¤é†’</span>
    Atomics<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>arrBuffer<span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>Atomics</code>è¿ç®—æ–¹æ³•</p> <ul><li><code>Atomics.add(intArrBuffer, index, value)</code>: åŠ è¿ç®—</li> <li><code>Atomics.sub(intArrBuffer, index, value)</code>: å‡è¿ç®—</li> <li>ä½è¿ç®—: <code>and or xor</code></li> <li><code>AtomicscompareExchange(intArrBuffer, index, oldVal, newVal)</code>:
<ul><li>index å½“å‰ä½ç½®çš„å€¼ === oldValï¼Œåˆ™å†™å…¥newVal;  ä¼šè¿”å›newVal</li> <li>index å½“å‰ä½ç½®çš„å€¼ != oldValï¼Œåˆ™ä¸å†™å…¥newVal;   ä¼šè¿”å›oldVal</li></ul></li></ul></li></ul></li></ol> <h2 id="es9-ç¼–ç¨‹"><a href="#es9-ç¼–ç¨‹" class="header-anchor">#</a> ES9 ç¼–ç¨‹</h2> <ol><li><p>å¼‚æ­¥è¿­ä»£å™¨   <code>Asyncchronous Iterator</code></p> <ul><li><p><code>Iterator</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼ŒåŒ…å« <code>next</code> æ–¹æ³•ï¼Œ<code>next</code>æ–¹æ³•ä¼šè¿”å› ä¸€ä¸ªå¯¹è±¡</p> <ul><li><p>next() =&gt; {value, done} è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡</p></li> <li><p>value è¡¨ç¤ºå¯¹è±¡çš„å€¼</p></li> <li><p>done: å¸ƒå°”ç±»å‹ã€‚è¡¨ç¤ºè¿­ä»£æ˜¯å¦ç»“æŸã€‚</p></li> <li><p>å®ç°ä¸€ä¸ªåŒæ­¥è¿­ä»£å™¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨</span>
<span class="token keyword">const</span> <span class="token function-variable function">createIterator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">items</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> len <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span>  <span class="token comment">// é•¿åº¦</span>
    <span class="token keyword">let</span> pointer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// æŒ‡é’ˆ</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> done <span class="token operator">=</span> pointer <span class="token operator">&gt;=</span> len<span class="token punctuation">;</span>
            <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token operator">!</span>done <span class="token operator">?</span> items<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>pointer<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                value<span class="token punctuation">,</span>
                done
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {value: 12, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {value: 34, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// {value: 56, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {value: undefined, done: true}</span>
</code></pre></div></li> <li><p>æ•°ç»„åŸç”Ÿå…·æœ‰ iterator æ¥å£</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// function</span>

<span class="token comment">// åŒæ­¥è¿­ä»£å™¨, é…åˆ for of ä½¿ç”¨</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span> 
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºæ•°ç»„çš„æ¯ä¸€é¡¹å…ƒç´ </span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>å¯¹è±¡æ²¡æœ‰ iterator æ¥å£ï¼Œä¸æ˜¯ä¸€ä¸ªè¿­ä»£å™¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°å'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token string">'4'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>


<span class="token comment">// å®ç°ä¸€ä¸ªè¿­ä»£å™¨</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°å'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token string">'4'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// iterator æ¥å£</span>
obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> me <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> len <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">let</span> pointer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> done <span class="token operator">=</span> pointer <span class="token operator">&gt;=</span> len<span class="token punctuation">;</span>
            <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token operator">!</span>done <span class="token operator">?</span> me<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>pointer<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                value<span class="token punctuation">,</span>
                done
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// function</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å°å  4</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>åŒºåˆ«è¿­ä»£å™¨å’Œå¼‚æ­¥è¿­ä»£å™¨çš„åŒºåˆ«</p> <ul><li>åŒæ­¥: <code>next() =&gt; {value: '', done: false}</code></li> <li>å¼‚æ­¥: ``next() =&gt; promise`</li></ul></li> <li><p>å®ç°ä¸€ä¸ªå¼‚æ­¥è¿­ä»£å™¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> asyncItems <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>asyncIterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> me <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> len <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">let</span> pointer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> done <span class="token operator">=</span> pointer <span class="token operator">&gt;=</span> len<span class="token punctuation">;</span>
                <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token operator">!</span>done <span class="token operator">?</span> me <span class="token punctuation">[</span>keys<span class="token punctuation">[</span>pointer<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>value<span class="token punctuation">,</span> done<span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// å¼‚æ­¥è¿­ä»£å™¨é…åˆ  for...await...of</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token keyword">await</span><span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> asyncItems<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å°æ˜  4</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>å¼‚æ­¥æ‰§è¡Œè¯­å¥   <code>for...await...of</code></p></li> <li><p>å¼‚æ­¥ç”Ÿæˆå™¨  <code>Async generator</code></p> <ul><li><p>ç”Ÿæˆè¿­ä»£å™¨å¯¹è±¡</p></li> <li><p><code>Generatorå‡½æ•°</code></p> <ul><li><p><code>yield</code> <code>*</code></p></li> <li><p>åŒæ­¥ç”Ÿæˆå™¨çš„æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// æ‰§è¡Œå‡½æ•°æ—¶ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œå‡½æ•°ä½“</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ­£å¸¸å‡½æ•°æˆ‘ä¼šæ‰§è¡Œ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰§è¡Œå®Œäº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> iteratorFn <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ª iterator</span>
<span class="token comment">// æ­£å¸¸å‡½æ•°æˆ‘ä¼šæ‰§è¡Œ</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iteratorFn<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: 1, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iteratorFn<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: 2, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iteratorFn<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: 3, done: false}</span>
<span class="token comment">// æ‰§è¡Œå®Œäº†</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iteratorFn<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  {value: undefined, done: true}</span>
</code></pre></div></li></ul></li> <li><p>å¼‚æ­¥ç”Ÿæˆå™¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> asyncI <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token keyword">await</span><span class="token punctuation">(</span><span class="token keyword">const</span> val <span class="token keyword">of</span> asyncI<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1  2  3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>æ€»ç»“å¼‚æ­¥è¿­ä»£å™¨å’Œå¼‚æ­¥ç”Ÿæˆå™¨:</p> <blockquote><p>åŒæ­¥è¿­ä»£å™¨å’Œå¼‚æ­¥è¿­ä»£å™¨æ¯”è¾ƒ:</p> <ul><li>ç›¸åŒç‚¹
- éƒ½åªå«æœ‰ ä¸€ä¸ªnext æ–¹æ³•çš„å¯¹è±¡</li> <li>ä¸åŒç‚¹
- åŒæ­¥è¿­ä»£å™¨çš„ nextï¼Œè¿”å› ä¸€ä¸ª<code>åªæœ‰valueå’Œdone</code>çš„<code>æ™®é€šå¯¹è±¡</code>
- å¼‚æ­¥è¿­ä»£å™¨çš„ nextï¼Œè¿”å›ä¸€ä¸ª<code>åªæœ‰valueå’Œdone</code>çš„ <code>promise</code>
- åŒæ­¥è¿­ä»£å™¨çš„éå†: <code>for of</code>
- å¼‚æ­¥è¿­ä»£å™¨çš„éå†: <code>for await of</code></li></ul></blockquote> <blockquote><p>å¼‚æ­¥ç”Ÿæˆå™¨:</p> <ul><li><code>å¼‚æ­¥ç”Ÿæˆå™¨</code>å¯ä»¥åˆ›å»º<code>å¼‚æ­¥è¿­ä»£å™¨</code></li> <li>æ˜¯ <code>async</code> ç±»å‹çš„ <code>Generator</code> å‡½æ•°, å†…éƒ¨å¯ä»¥ä½¿ç”¨<code>async</code>è¡¨è¾¾å¼ç­‰å¾…å¼‚æ­¥æ–¹æ³•å®Œæˆ</li> <li>å¯ä»¥ä½¿ç”¨ <code>for await of</code>éå†</li></ul></blockquote></li> <li><p><code>Promise.finally()</code></p> <ul><li><p><code>new Promise</code>   è°ƒç”¨é“¾</p></li> <li><p>æ— è®º<code>æ­£ç¡®</code>è¿˜æ˜¯<code>é”™è¯¯</code>éƒ½è¦<code>æ‰§è¡Œä¸€æ®µä»£ç </code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// resolve('æ­£ç¡®ä¿¡æ¯');</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'é”™è¯¯ä¿¡æ¯'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘éƒ½ä¼šæ‰§è¡Œ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ä¾‹å¦‚: å…³é—­æ•°æ®åº“é“¾æ¥</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p>Rest/Spread</p> <ul><li><p><code>Restå‚æ•°</code>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>  <span class="token operator">...</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1  2  [3, 4, 5, 6]</span>


<span class="token comment">// æ‰©å±•è¿ç®—ç¬¦, ES6 æä¾›çš„ã€‚ä»…ç”¨äºæ•°ç»„</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ES9 æä¾›çš„ï¼Œæ”¯æŒå¯¹è±¡äº†ã€‚æœªåŒ¹é…çš„æ”¾åˆ°äº† haha é‡Œã€‚ </span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    info<span class="token operator">:</span> <span class="token punctuation">{</span>
        phone<span class="token operator">:</span> <span class="token number">188</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span>  <span class="token punctuation">{</span>name<span class="token punctuation">,</span> <span class="token operator">...</span>haha<span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'==='</span><span class="token punctuation">,</span> haha<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°æ˜ === {age: 4, info: {phone: 188}}</span>

<span class="token comment">//  ç”¨æ—¶å‡½æ•°ä¼ å‚ä¹Ÿæ˜¯åŒæ ·çš„é“ç†</span>
<span class="token keyword">const</span> objFn <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'å˜»å˜»'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    info<span class="token operator">:</span> <span class="token punctuation">{</span>
        phone<span class="token operator">:</span> <span class="token number">001</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">,</span> <span class="token operator">...</span>haha<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'==='</span><span class="token punctuation">,</span> haha<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å˜»å˜» === {age: 50, info: {phone: 1}}</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span>objFn<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦</span>
<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'å˜»å˜»'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    info<span class="token operator">:</span> <span class="token punctuation">{</span>
        phone<span class="token operator">:</span> <span class="token number">001</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>obj1<span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token string">'åŒ—äº¬'</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {name: &quot;å˜»å˜»&quot;, age: 50, info: {phone: 1}, address: &quot;åŒ—äº¬&quot;}</span>


<span class="token comment">// å¯¹è±¡çš„æµ…æ‹·è´: ä¿®æ”¹å…‹éš†å¯¹è±¡ï¼Œåˆ™ä¸ä¼šå½±å“åŸå§‹å¯¹è±¡</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'é™é™'</span><span class="token punctuation">,</span>
    info<span class="token operator">:</span> <span class="token punctuation">{</span>
        phont<span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objClone <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj<span class="token punctuation">}</span><span class="token punctuation">;</span>
objClone<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'www'</span><span class="token punctuation">;</span>
objClone<span class="token punctuation">.</span>info<span class="token punctuation">.</span>phont <span class="token operator">=</span> <span class="token string">'20'</span><span class="token punctuation">;</span>
<span class="token comment">// å¯¹è±¡çš„æµ…æ‹·è´</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é™é™</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objClone<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// www</span>
<span class="token comment">// å¯¹è±¡çš„æ·±æ‹·è´</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>info<span class="token punctuation">.</span>phont<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objClone<span class="token punctuation">.</span>info<span class="token punctuation">.</span>phont<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
</code></pre></div></li></ul></li> <li><p>æ­£åˆ™è¡¨è¾¾å¼çš„å¢å¼º: <code>ç»™åˆ†ç»„è‡ªå®šä¹‰åç§°</code></p> <ul><li><p>éœ€æ±‚ä¸€: <code>YYYY-MM-DD</code>  å¹´æœˆæ—¥è§£æåˆ°æ•°ç»„ä¸­</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> dataStr <span class="token operator">=</span> <span class="token string">'2030-08-01'</span>

<span class="token comment">// ä¹‹å‰çš„å†™æ³•</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/([0-9]{4})-([0-9]{2})-([0-9]{2})/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> res<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> res<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡æ•°ç»„ä¸‹æ ‡è·å–ï¼Œæƒ³è¦çš„å€¼ã€‚&quot;2030&quot; &quot;08&quot; &quot;01&quot;</span>

<span class="token comment">// ES9ç‰ˆæœ¬ æ–°çš„å†™æ³• ?&lt;name&gt;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>dataStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>year<span class="token punctuation">,</span> res<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>month<span class="token punctuation">,</span> res<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;2030&quot; &quot;08&quot; &quot;01&quot;</span>
</code></pre></div></li> <li><p>éœ€æ±‚äºŒ:  å°†<code>å¹´æœˆæ—¥</code>, ä¿®æ”¹ä¸º<code>æœˆæ—¥å¹´</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> dataStr <span class="token operator">=</span> <span class="token string">'2030-08-01'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newDate <span class="token operator">=</span> dataStr<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$&lt;month&gt;-$&lt;day&gt;-$&lt;year&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newDate<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 08-01-2030</span>
</code></pre></div></li> <li><p>åå‘æ–­è¨€</p> <ul><li><p>ES9ä¸­ï¼Œä»¥ç›¸åŒæ–¹å¼å·¥ä½œï¼ŒåŒ¹é…å‰é¢çš„åå‘æ–­è¨€</p></li> <li><p>åå‘æ–­è¨€çš„æ ¼å¼: <code>(?&lt;=pattern)</code></p></li> <li><p>ä¾‹å¦‚ï¼šè·å–ä»·æ ¼, åå‘æ–­è¨€å†™æ³•</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;$123&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡åŒ¹é…å‰é¢çš„, æ‹¿åˆ°åé¢çš„æ•°æ®</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/(?&lt;=\D)\d+/</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> result <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 123</span>
</code></pre></div></li></ul></li> <li><p>å…ˆè¡Œæ–­è¨€ã€‚åŒ¹é…åé¢çš„</p> <ul><li><p>å…ˆè¡Œæ–­è¨€çš„æ ¼å¼: <code>(?=pattern)å½“å‰åŒ¹é…ä½ç½®å¼€å§‹, åˆ¤æ–­åé¢çš„å­—ç¬¦ä¸²æ˜¯å¦æˆç«‹</code></p></li> <li><p>ä¾‹å¦‚ï¼šè·å–è´§å¸ç¬¦å·, å…ˆè¡Œæ–­è¨€å†™æ³•</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;$123&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// å…ˆè¡Œæ–­è¨€æ˜¯, å®Œå…¨åŒ¹é…åçš„ \d+, æ‹¿åˆ°å‰é¢çš„æ•°æ®</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/\D(?=\d+)/</span><span class="token punctuation">;</span>  <span class="token comment">// \D:éå­—ç¬¦  \d:æ•°å­—  +: å¤šä¸ª</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// $</span>
</code></pre></div></li></ul></li> <li><p><code>dotAll</code> æ–¹å¼</p> <ul><li><p><code>.</code>:  åœ¨æ­£åˆ™ä¸­è¡¨ç¤ºï¼Œ ä¼šåŒ¹é…åˆ°é™¤å›è½¦ç¬¦ï¼Œä»¥å¤–çš„å•å­—ç¬¦</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'he\nllo'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/he.llo/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
</code></pre></div></li> <li><p>å¼¥è¡¥å›è½¦ç¬¦çš„åŒ¹é…</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'he\nllo'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/he.llo/s</span><span class="token punctuation">;</span>  <span class="token comment">// sæ ‡è®°ï¼Œè¡¨ç¤ºå…è®¸æ¢è¡Œç¬¦çš„å‡ºç°</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre></div></li></ul></li> <li><p>ES9<code>æ±‰å­—åŒ¹é…</code>æ–°å†™æ³• <code>/\p{Script=Han}/u</code></p> <ul><li><p>æ±‰å­—åŒ¹é…æ–°å†™æ³•å’Œæ—§å†™æ³•çš„æ¯”è¾ƒ</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> oldReg <span class="token operator">=</span> <span class="token regex">/[\u4e00-\u9fa5]/</span><span class="token punctuation">;</span>  <span class="token comment">// ç¹çä¸å¥½è®°å¿†</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token regex">/ä½ å¥½å‘€/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newReg <span class="token operator">=</span> <span class="token regex">/\p{Script=Han}/u</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre></div></li></ul></li> <li><p><code>éè½¬ä¹‰åºåˆ—</code>çš„æ¨¡æ¿å­—ç¬¦ä¸²</p> <ul><li><p>å–æ¶ˆè½¬ä¹‰ <code>String.raw</code></p></li> <li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// \u unicodeè½¬ä¹‰    \x åå…­è¿›åˆ¶è½¬ä¹‰</span>
<span class="token string">'\u{54}'</span>  <span class="token comment">// è‡ªåŠ¨è½¬ä¹‰æˆ T äº†</span>
String<span class="token punctuation">.</span>raw<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\u{54}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token comment">// å–æ¶ˆè½¬ä¹‰</span>
</code></pre></div></li></ul></li></ul></li></ol> <h2 id="es10-ç¼–ç¨‹"><a href="#es10-ç¼–ç¨‹" class="header-anchor">#</a> ES10 ç¼–ç¨‹</h2> <ol><li><p>BigInt<code>æ–°çš„åŸºæœ¬æ•°æ®ç±»å‹:</code> <code>ä»»æ„ç²¾åº¦æ•´æ•°</code></p> <ul><li><p>ç¬¬ä¸ƒç§åŸºæœ¬æ•°æ®ç±»å‹</p></li> <li><p>æœ€å¤§çš„å®‰å…¨æ•´æ•°å€¼</p> <ul><li><code>Number.MAX_SAFE_INTEGER // 9007199254740991</code></li></ul></li> <li><p>åœ¨æ•°å­—åé¢åŠ ä¸€ä¸ª <code>n</code>ä»£è¡¨<code>BigInt</code>ç±»å‹</p> <ul><li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">1n</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token number">10n</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç±»å‹'</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// bigint</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç±»å‹æ¯”è¾ƒ'</span><span class="token punctuation">,</span> num <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//false  ä»»æ„ç²¾åº¦çš„æ•´æ•°å€¼, å€¼ç›¸åŒï¼Œç±»å‹ä¸åŒ</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿ç®—'</span><span class="token punctuation">,</span> num2<span class="token operator">-</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9n åªèƒ½åŒç±»å‹è¿ç®—</span>
</code></pre></div></li> <li><p>å¦ä¸€ç§å®šä¹‰æ–¹å¼</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> bigIntNum <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bigIntNum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12n</span>
</code></pre></div></li></ul></li></ul></li> <li><p>æ·»åŠ <code>æ•°ç»„</code>çš„ä¸¤ä¸ªæ–°æ–¹æ³•</p> <ul><li><p><code>flat()</code></p> <ul><li><p>å°†äºŒç»´æ•°ç»„ï¼Œæ‹‰å¹³ä¸ºä¸€ç»´æ•°ç»„ã€‚<code>é»˜è®¤æ·±åº¦å€¼ä¸º1</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 2, 3, 4, 5]</span>
</code></pre></div></li> <li><p>æŒ‡å®šéå†æ·±åº¦ã€‚<code>é€šè¿‡ä¼ å‚æ•°çš„æ–¹å¼æ¥æŒ‡å®šæ·±åº¦å€¼</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 2, 3, 4, 5, 6, 7]</span>
</code></pre></div></li> <li><p>æŒ‡å®šä»»æ„æ·±åº¦ã€‚<code>Infinity</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  [1, 2, 3, 4, 5, 6, 7]</span>
</code></pre></div></li> <li><p>å»é™¤æ•°ç»„çš„ç©ºé¡¹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 5, 6]</span>
</code></pre></div></li></ul></li> <li><p><code>flatMap()</code></p> <ul><li><p>ä¸ map ç”¨æ³•çš„å¯¹æ¯”</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>item<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [[2], [4], [6], [8]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>item<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [2, 4, 6, 8]</span>

<span class="token comment">// æ·±åº¦å€¼é»˜è®¤å€¼ä¸º1ã€‚// [[2], [4], [6], [8]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>item<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul></li> <li><p>æ·»åŠ <code>å­—ç¬¦ä¸²</code>çš„æ–¹æ³•</p> <ul><li><p><code>Object.fromEntries()</code></p> <ul><li><p>ä¼ å…¥<code>å¸¦æœ‰é”®å€¼å¯¹çš„åˆ—è¡¨</code>ï¼Œè¿”å›<code>å¸¦æœ‰é”®å€¼å¯¹çš„æ–°å¯¹è±¡</code>ã€‚</p></li> <li><p>è¿”å›<code>å¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„</code>ã€‚</p></li> <li><p>ä¸<code>for...in</code>åŒºåˆ«</p> <ul><li><code>for...in</code>å¯æšä¸¾åŸå‹é“¾çš„å±æ€§, fromEntriesåªæšä¸¾å¯¹è±¡è‡ªèº«çš„å±æ€§</li></ul></li> <li><p>æ¡ˆä¾‹:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
		<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'ä¸€ç¯'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">[</span><span class="token string">'address'</span><span class="token punctuation">,</span> <span class="token string">'åŒ—äº¬'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {name: &quot;ä¸€ç¯&quot;, address: &quot;åŒ—äº¬&quot;}</span>
</code></pre></div></li></ul></li> <li><p><code>Object.entries</code></p> <ul><li>ä¸<code>Object.fromEntries()</code>ç›¸å</li> <li>ä¼ å…¥ä¸€ä¸ªå¯¹è±¡, è¿”å›å«æœ‰é”®å€¼å¯¹çš„æ•°ç»„</li></ul></li> <li><p><code>String.prototype.matchAll</code></p> <ul><li><p>è¿”å›åŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼åŠåˆ†ç»„æ•è·è¿­ä»£å™¨</p></li> <li><p>æ¡ˆä¾‹å¯¹æ¯”</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'é™é™ ä½ å¥½ ä½ å¥½'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/ä½ å¥½*/g</span><span class="token punctuation">;</span>

<span class="token comment">// ä¹‹å‰</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>matches <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>reg<span class="token punctuation">.</span>lastIndex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ä½ å¥½-5    ä½ å¥½-8</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç°åœ¨</span>
<span class="token keyword">let</span> matches2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> res <span class="token keyword">of</span> matches2<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// [&quot;ä½ å¥½&quot;, index: 3, input: &quot;é™é™ ä½ å¥½ ä½ å¥½&quot;, groups: undefined]</span>
  <span class="token comment">// [&quot;ä½ å¥½&quot;, index: 6, input: &quot;é™é™ ä½ å¥½ ä½ å¥½&quot;, groups: undefined]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// æˆ–</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {value: Array(1), done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {value: Array(1), done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// {value: undefined, done: true}</span>
</code></pre></div></li> <li><p>åˆ†ç»„ä¸­ä½¿ç”¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/y(i)(deng(\d?))/g</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'yideng66yideng66'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [&quot;yideng6&quot;, &quot;yideng6&quot;]</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Array(4), Array(4)]</span>
</code></pre></div></li></ul></li> <li><p>å»é™¤é¦–å°¾ç©ºæ ¼: <code>trimStart()</code>ã€<code>trimEnd()</code></p> <ul><li><code>Inputæ¡†</code>è¾“å…¥ï¼Œå»é™¤é¦–ä½ç©ºæ ¼</li></ul></li></ul></li> <li><p><code>Symbol.prototype.description</code></p> <ul><li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'æè¿°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol(æè¿°)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æè¿°    </span>
</code></pre></div></li></ul></li> <li><p><code>Catch</code>å‚æ•°å¯ä»¥çœç•¥</p> <ul><li><p>ä¹‹å‰å†™æ³•</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">try</span> <span class="token punctuation">{</span>
   
 <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>ç°åœ¨</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
            
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>å…è®¸<code>è¡Œåˆ†å‰²ç¬¦å’Œæ®µåˆ†å‰²ç¬¦åˆ</code>å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­</p> <ul><li><p>JSON</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// JSON.parse  JSON æ˜¯ ECMAScript ä¸€ä¸ªå­é›†</span>
<span class="token comment">// JSON å¯ä»¥åŒ…å«è¡Œåˆ†å‰²ç¬¦å’Œæ®µåˆ†å‰²ç¬¦</span>
        
<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token string">'{&quot;name&quot;: &quot;ä½ å¥½\nå°æ˜&quot;}'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ‰“å°å‡ºæ¥çš„ JSON æ¢è¡Œäº†</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span> 	<span class="token comment">// æŠ¥é”™, è¡Œåˆ†å‰²ç¬¦å’Œæ®µåˆ†å‰²ç¬¦ ä¸å…è®¸å‡ºç°åœ¨å…¶ä¸­</span>

<span class="token comment">// ä¿®å¤å­—ç¬¦ U+D800 åˆ°U+DFFF å¤„ç†</span>
<span class="token comment">// U+2028 è¡Œåˆ†å‰²ç¬¦  U+2029æ®µåˆ†éš”ç¬¦</span>

<span class="token comment">// å®é™…è¾“å‡º: UDEADã€‚è‰æ¡ˆè¿‡å: JSONè½¬ä¹‰åºåˆ— '&quot;\\UDEAD&quot;'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&quot;\UDEAD&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div></li></ul></li> <li><p><code>Array.prototype.sort()</code></p> <ul><li><p>å°äº10, æ’å…¥æ’åº  å¿«é€Ÿæ’åºä¸ç¨³å®šçš„æ’åº O(n^2)</p></li> <li><p>æ–°çš„ V8, TimSort() O(nlogo)ã€‚ç¨³å®šæ’åº</p> <ul><li>æ¡ˆä¾‹</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'w'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'www'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>age <span class="token operator">-</span> b<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// éç¨³å®š</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'www'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'w'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ç¨³å®š</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'www'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'w'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>	
</code></pre></div></li></ul></li> <li><p><code>Function.toString()</code></p> <ul><li><p><code>Object.prototype.toString()</code></p></li> <li><p>æ ‡å‡†åŒ–, è¿”å›ç²¾ç¡®å­—ç¬¦</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token comment">/*æ³¨é‡Š*/</span> foo <span class="token comment">/*æ³¨é‡Š*/</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// ä¹‹å‰</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function foo(){}</span>
<span class="token comment">// ç°åœ¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function /*æ³¨é‡Š*/ foo /*æ³¨é‡Š*/ (){}</span>
</code></pre></div></li></ul></li> <li><p><code>globalThis</code></p> <ul><li><p>æ ‡å‡†åŒ– globalThis å¯¹è±¡</p></li> <li><p>ä½œç”¨: <code>åœ¨ä»»ä½•å¹³å°è®¿é—®å…¨å±€å±æ€§</code></p></li> <li><p>æ¡ˆä¾‹</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä¹‹å‰</span>
<span class="token keyword">const</span> <span class="token function-variable function">getGlobal</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!=</span> <span class="token string">'undefind'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> self<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!=</span> <span class="token string">'undefind'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> window<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> global <span class="token operator">!=</span> <span class="token string">'undefind'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> global<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ç°åœ¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>globalThis<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨ä¸åŒçš„å¹³å°è®¿é—®å…¨å±€ä½œç”¨åŸŸ</span>
<span class="token comment">// Window {parent: Window, opener: null, top: Window, length: 0, frames: Window, â€¦}</span>
</code></pre></div></li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/blog/Promise.html" class="prev">Promise</a></span> <span class="next"><a href="/blog/EventLoop.html">EventLoop</a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0c4e457a.js" defer></script><script src="/assets/js/2.3676e543.js" defer></script><script src="/assets/js/16.6d1bca0b.js" defer></script>
  </body>
</html>
