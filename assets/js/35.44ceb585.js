(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{302:function(o,_,v){"use strict";v.r(_);var e=v(0),l=Object(e.a)({},(function(){var o=this,_=o.$createElement,v=o._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[v("h1",{attrs:{id:"mongodb"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[o._v("#")]),o._v(" MongoDB")]),o._v(" "),v("h2",{attrs:{id:"数据库操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#数据库操作"}},[o._v("#")]),o._v(" 数据库操作")]),o._v(" "),v("ol",[v("li",[o._v("通过 shell 链接 MongoDB 服务执行:\n"),v("blockquote",[v("p",[v("code",[o._v("mongo")])])])]),o._v(" "),v("li",[o._v("MongoDB命令查询所属数据库表:\n"),v("blockquote",[v("p",[v("code",[o._v("show dbs")])])])]),o._v(" "),v("li",[o._v("查看当前连接在哪个数据库下面:\n"),v("blockquote",[v("p",[v("code",[o._v("db")])])])]),o._v(" "),v("li",[o._v("切换到某数据库下面:\n"),v("blockquote",[v("p",[v("code",[o._v("use yapi(数据库名称)")])])])]),o._v(" "),v("li",[o._v("查看某数据库下有哪些表或者叫collection:\n"),v("blockquote",[v("p",[v("code",[o._v("show collections")]),o._v(" 或 "),v("code",[o._v("db.getCollectionNames()获取当前数据库的表名")])])])]),o._v(" "),v("li",[o._v("想知道mongodb支持哪些命令，可以直接输入:\n"),v("blockquote",[v("p",[v("code",[o._v("help")])])])]),o._v(" "),v("li",[o._v("想知道当前数据库支持哪些方法: "),v("code",[o._v("db.help()")])])]),o._v(" "),v("h2",{attrs:{id:"表操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#表操作"}},[o._v("#")]),o._v(" 表操作")]),o._v(" "),v("ol",[v("li",[v("p",[o._v("查看test库中的表:")]),o._v(" "),v("blockquote",[v("p",[v("code",[o._v("show collections")])])])]),o._v(" "),v("li",[v("p",[o._v("删除user表:")]),o._v(" "),v("blockquote",[v("p",[v("code",[o._v("db.user.drop();")])])])]),o._v(" "),v("li",[v("p",[o._v("查看 yapi 数据库, 下面的 project 表内容:")]),o._v(" "),v("blockquote",[v("ol",[v("li",[o._v("全部查找: "),v("code",[o._v("db.project.find()")])]),o._v(" "),v("li",[o._v("按条件查找: "),v("code",[o._v("db.project.find({'id': 10010})")])]),o._v(" "),v("li",[o._v("数据格式化显示: "),v("code",[o._v("db.project.find({'id': 10010}).pretty()")])]),o._v(" "),v("li",[o._v("只查询一条数据,使用findOne(): "),v("code",[o._v("db.表名.findOne()")])]),o._v(" "),v("li",[o._v("查询条件:")])]),o._v(" "),v("blockquote",[v("ol",[v("li",[o._v('$lt 小于 例如{"age": {$lt:30}}')]),o._v(" "),v("li",[o._v('$lte 小于或等于 例如 {"age": {$lte: 30}}')]),o._v(" "),v("li",[o._v('$gt 大于 例如{"age": {$gt: 30}}')]),o._v(" "),v("li",[o._v("$gte 大于或等于")]),o._v(" "),v("li",[o._v("$ne 不等于")])])])])]),o._v(" "),v("li",[v("p",[o._v("查询表中一共有多少条数据:")]),o._v(" "),v("blockquote",[v("p",[v("code",[o._v("db.表名.count()")])])])]),o._v(" "),v("li",[v("p",[o._v("想知道当前数据库下的表或者表collection支持哪些方法: "),v("code",[o._v("db.表名.help()")]),o._v("。 user 表名")])]),o._v(" "),v("li",[v("p",[o._v("删除表: "),v("code",[o._v("db.表名.drop()")])])])]),o._v(" "),v("h2",{attrs:{id:"超级用户相关"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#超级用户相关"}},[o._v("#")]),o._v(" 超级用户相关")]),o._v(" "),v("ol",[v("li",[o._v("增加或修改用户密码:\n"),v("blockquote",[v("p",[v("code",[o._v("db.addUser('admin','pwd')")])])])]),o._v(" "),v("li",[o._v("查看用户列表:\n"),v("blockquote",[v("p",[v("code",[o._v("db.system.users.find()")])])])]),o._v(" "),v("li",[o._v("用户认证:\n"),v("blockquote",[v("p",[v("code",[o._v("db.auth('admin','pwd')")])])])]),o._v(" "),v("li",[o._v("删除用户:\n"),v("blockquote",[v("p",[v("code",[o._v("db.removeUser('mongodb')")])])])]),o._v(" "),v("li",[o._v("查看所有用户:\n"),v("blockquote",[v("p",[v("code",[o._v("show users")])])])]),o._v(" "),v("li",[o._v("查看所有数据库:\n"),v("blockquote",[v("p",[v("code",[o._v("show dbs")])])])]),o._v(" "),v("li",[o._v("查看所有的collection\n"),v("blockquote",[v("p",[v("code",[o._v("show collections")])])])]),o._v(" "),v("li",[o._v("查看各collection的状态\n"),v("blockquote",[v("p",[v("code",[o._v("db.printCollectionStats()")])])])]),o._v(" "),v("li",[o._v("客户端连接\n"),v("blockquote",[v("p",[v("code",[o._v("/usr/local/mongodb/bin/mongo user_addr -u user -p 'pwd'")])])])]),o._v(" "),v("li",[o._v("查找所有:\n"),v("blockquote",[v("p",[v("code",[o._v("db.foo.find()")])])])]),o._v(" "),v("li",[o._v("查找一条记录:\n"),v("blockquote",[v("p",[v("code",[o._v("db.foo.findOne()")])])])]),o._v(" "),v("li",[o._v("根据条件检索10条记录\n"),v("blockquote",[v("p",[v("code",[o._v("db.foo.find({'msg':'Hello 1'}).limit(10)")])])])]),o._v(" "),v("li",[o._v("sort排序\n"),v("blockquote",[v("ol",[v("li",[v("code",[o._v("db.deliver_status.find({'From':'yushunzhi@sohu.com'}).sort({'Dt',-1})")])]),o._v(" "),v("li",[v("code",[o._v("db.deliver_status.find().sort({'Ct':-1}).limit(1)")])])])])]),o._v(" "),v("li",[o._v("count操作:\n"),v("blockquote",[v("p",[v("code",[o._v("db.user_addr.count()")])])])]),o._v(" "),v("li",[o._v("只取表中 msg 不一样的数据, 相同的只展示一个:\n"),v("blockquote",[v("p",[v("code",[o._v("db.foo.distinct('msg')")])])])]),o._v(" "),v("li",[o._v("查看表数据的大小:\n"),v("blockquote",[v("p",[v("code",[o._v("db.表名.dataSize()")])])])]),o._v(" "),v("li",[o._v("查看colleciont状态:\n"),v("blockquote",[v("p",[v("code",[o._v("db.表名.stats()")])])])])]),o._v(" "),v("h2",{attrs:{id:"问题总结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#问题总结"}},[o._v("#")]),o._v(" 问题总结")]),o._v(" "),v("ol",[v("li",[o._v("mongodb 使用 group 查表出错("),v("code",[o._v("db.group.find()")]),o._v("):\n"),v("blockquote",[v("ol",[v("li",[o._v("解决办法: "),v("code",[o._v('db.getCollection("group").find()')]),o._v(".")]),o._v(" "),v("li",[o._v("原因: "),v("code",[o._v("group")]),o._v(" 在 "),v("code",[o._v("mongodb")]),o._v(" 属于保留字段，当出现时 "),v("code",[o._v("mongodb")]),o._v(" 会有另外的意义")])])])])])])}),[],!1,null,null,null);_.default=l.exports}}]);